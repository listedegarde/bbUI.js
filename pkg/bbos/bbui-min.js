/*! bbUI for BBOS VERSION: 0.9.6.152 | github.com/blackberry/bbUI.js/blob/master/LICENSE !*/bb={scroller:null,screens:[],dropdownScrollers:[],windowListeners:[],documentListeners:[],transparentPixel:"data:image/png;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",imageList:null,activityIndicator:null,fileInput:null,button:null,scrollPanel:null,bbmBubble:null,dropdown:null,textInput:null,roundPanel:null,grid:null,pillButtons:null,labelControlContainers:null,slider:null,radio:null,progress:null,checkbox:null,toggle:null,init:function(e){if(e)for(var t in e)bb.options[t]=e[t];window.blackberry&&blackberry.system&&blackberry.system.event&&blackberry.system.event.onHardwareKey&&(bb.options.onbackkey?blackberry.system.event.onHardwareKey(blackberry.system.event.KEY_BACK,bb.options.onbackkey):blackberry.system.event.onHardwareKey(blackberry.system.event.KEY_BACK,bb.popScreen)),bb.device.isRipple=navigator.userAgent.indexOf("Ripple")>=0||window.tinyHippos,bb.device.isPlayBook=navigator.userAgent.indexOf("PlayBook")>=0||1024==window.innerWidth&&600==window.innerHeight||600==window.innerWidth&&1024==window.innerHeight,bb.device.isBB10=bb.device.isPlayBook&&bb.options.bb10ForPlayBook?!0:navigator.userAgent.indexOf("BB10")>=0,bb.device.isBB7=navigator.userAgent.indexOf("7.0.0")>=0||navigator.userAgent.indexOf("7.1.0")>=0,bb.device.isBB6=navigator.userAgent.indexOf("6.0.0")>=0,bb.device.isBB5=navigator.userAgent.indexOf("5.0.0")>=0,bb.device.is1024x600=bb.device.isPlayBook,bb.device.is1280x768=1280==window.innerWidth&&768==window.innerHeight||768==window.innerWidth&&1280==window.innerHeight,bb.device.is720x720=720==window.innerWidth&&720==window.innerHeight,bb.device.is1280x720=1280==window.innerWidth&&720==window.innerHeight||720==window.innerWidth&&1280==window.innerHeight,bb.device.isHiRes=bb.device.isRipple?window.innerHeight>480||window.innerWidth>480:screen.width>480||screen.height>480;var t,i=document.head.querySelectorAll("meta[name=viewport]");for(t=0;i.length>t;t++)try{document.head.removeChild(i[t])}catch(n){}var o=document.createElement("meta");o.setAttribute("name","viewport"),bb.device.isBB10&&!bb.device.is1024x600?o.setAttribute("content","initial-scale="+1/window.devicePixelRatio+",user-scalable=no"):o.setAttribute("content","initial-scale=1.0,width=device-width,user-scalable=no,target-densitydpi=device-dpi"),document.head.appendChild(o);var r=parseInt(bb.cutHex(bb.options.highlightColor).substring(0,2),16),b=parseInt(bb.cutHex(bb.options.highlightColor).substring(2,4),16),a=parseInt(bb.cutHex(bb.options.highlightColor).substring(4,6),16);if(bb.options.shades={R:r,G:b,B:a,darkHighlight:"rgb("+(r-120)+", "+(b-120)+", "+(a-120)+")",mediumHighlight:"rgb("+(r-60)+", "+(b-60)+", "+(a-60)+")",darkOutline:"rgb("+(r-32)+", "+(b-32)+", "+(a-32)+")",darkDarkHighlight:"rgb("+(r-140)+", "+(b-140)+", "+(a-140)+")"},document.styleSheets&&document.styleSheets.length)try{document.styleSheets[0].insertRule(".bb10Highlight {background-color:"+bb.options.highlightColor+";background-image:none;}",0),document.styleSheets[0].insertRule(".bbProgressHighlight {background-color:#92B43B;background-image:none;}",0),document.styleSheets[0].insertRule(".bb10-button-highlight {color:White;background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.shades.darkHighlight+"), to("+bb.options.highlightColor+"));border-color:#53514F;}",0),document.styleSheets[0].insertRule(".pb-button-light-highlight {color:"+bb.options.shades.darkHighlight+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".pb-button-dark-highlight {color:"+bb.options.highlightColor+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10Accent {background-color:"+bb.options.shades.darkHighlight+";}",0),document.styleSheets[0].insertRule(".bb10-title-colored {color:white;border-color: "+bb.options.shades.darkHighlight+";text-shadow: 0px 2px black;background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10-title-button-container-colored {color:white;text-shadow: 0px 2px black;border-color: "+bb.options.shades.darkDarkHighlight+";background-color: "+bb.options.shades.darkHighlight+";}",0),document.styleSheets[0].insertRule(".bb10-title-button-colored {border-color: "+bb.options.shades.darkDarkHighlight+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.mediumHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10-title-button-colored-highlight {border-color: "+bb.options.shades.darkDarkHighlight+";background-color: "+bb.options.shades.darkHighlight+";}",0)}catch(n){console.log(n.message)}bb.screen.controlColor=bb.options.controlsDark?"dark":"light",bb.screen.listColor=bb.options.listsDark?"dark":"light",bb.device.isBB10?(bb.imageList=_bb10_imageList,bb.activityIndicator=_bb10_activityIndicator,bb.fileInput=_bb10_fileInput,bb.button=_bb10_button,bb.scrollPanel=_bb_PlayBook_10_scrollPanel,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb10_dropdown,bb.textInput=_bb10_textInput,bb.roundPanel=_bb10_roundPanel,bb.grid=_bb10_grid,bb.pillButtons=_bb10_pillButtons,bb.labelControlContainers=_bb10_labelControlContainers,bb.slider=_bb10_slider,bb.radio=_bb10_radio,bb.progress=_bb_progress,bb.checkbox=_bb10_checkbox,bb.toggle=_bb10_toggle,bb.contextMenu=bb.device.isPlayBook||bb.device.isRipple?_PlayBook_contextMenu:_bb10_contextMenu,bb.actionOverflow=_PlayBook_contextMenu):bb.device.isBB5?(bb.imageList=_bb_5_6_7_imageList,bb.button=_bb5_button,bb.bbmBubble=_bb_bbmBubble,bb.roundPanel=_bb_5_6_7_roundPanel,bb.pillButtons=_bb5_pillButtons,bb.labelControlContainers=_bb5_labelControlContainers,bb.progress=_bb_progress):bb.device.isPlayBook?(bb.imageList=_bbPlayBook_imageList,bb.button=_bbPlayBook_button,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb_6_7_PlayBook_dropdown,bb.textInput=_bbPlayBook_textInput,bb.pillButtons=_bb_6_7_PlayBook_pillButtons,bb.labelControlContainers=_bb_6_7_PlayBook_labelControlContainers,bb.progress=_bb_progress,bb.scrollPanel=_bb_PlayBook_10_scrollPanel,bb.roundPanel=_bbPlayBook_roundPanel,bb.activityIndicator=_bbPlayBook_activityIndicator):(bb.imageList=_bb_5_6_7_imageList,bb.button=_bb_6_7_button,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb_6_7_PlayBook_dropdown,bb.textInput=_bb_6_7_textInput,bb.pillButtons=_bb_6_7_PlayBook_pillButtons,bb.labelControlContainers=_bb_6_7_PlayBook_labelControlContainers,bb.progress=_bb_progress,bb.roundPanel=_bb_5_6_7_roundPanel),!bb.device.isBB10||bb.device.isPlayBook||bb.device.isRipple||bb.device.is720x720||(blackberry.event.addEventListener("keyboardOpening",function(){bb.screen.currentScreen.actionBar&&bb.screen.currentScreen.actionBar.hide()}),blackberry.event.addEventListener("keyboardOpened",function(){bb.screen.currentScreen.actionBar&&bb.screen.focusedInput&&(bb.screen.focusedInput.container?bb.screen.focusedInput.container.scrollIntoView(!1):bb.screen.focusedInput.scrollIntoView(!1))}),blackberry.event.addEventListener("keyboardClosed",function(){bb.screen.currentScreen.actionBar&&bb.screen.currentScreen.actionBar.show()})),!bb.device.isBB10||bb.device.isPlayBook||bb.device.isRipple||blackberry.ui&&blackberry.ui.contextmenu&&(blackberry.ui.contextmenu.enabled=!0,blackberry.bbui&&blackberry.bbui.initContext({highlightColor:bb.options.highlightColor}))},doLoad:function(e){var t=e||document.body;bb.screen.apply(t.querySelectorAll("[data-bb-type=screen]")),bb.style(t),bb.screen.reAdjustHeight()},style:function(e){bb.scrollPanel&&bb.scrollPanel.apply(e.querySelectorAll("[data-bb-type=scroll-panel]")),bb.textInput&&bb.textInput.apply(e.querySelectorAll("input[type=text], [type=password], [type=tel], [type=url], [type=email], [type=number], [type=date], [type=time], [type=datetime], [type=month], [type=datetime-local], [type=color], [type=search]")),bb.dropdown&&bb.dropdown.apply(e.querySelectorAll("select")),bb.roundPanel&&bb.roundPanel.apply(e.querySelectorAll("[data-bb-type=round-panel]")),bb.imageList&&bb.imageList.apply(e.querySelectorAll("[data-bb-type=image-list]")),bb.grid&&bb.grid.apply(e.querySelectorAll("[data-bb-type=grid-layout]")),bb.bbmBubble&&bb.bbmBubble.apply(e.querySelectorAll("[data-bb-type=bbm-bubble]")),bb.pillButtons&&bb.pillButtons.apply(e.querySelectorAll("[data-bb-type=pill-buttons]")),bb.labelControlContainers&&bb.labelControlContainers.apply(e.querySelectorAll("[data-bb-type=label-control-container]")),bb.button&&bb.button.apply(e.querySelectorAll("[data-bb-type=button]")),bb.fileInput&&bb.fileInput.apply(e.querySelectorAll("input[type=file]")),bb.slider&&bb.slider.apply(e.querySelectorAll("input[type=range]")),bb.progress&&bb.progress.apply(e.querySelectorAll("progress")),bb.radio&&bb.radio.apply(e.querySelectorAll("input[type=radio]")),bb.activityIndicator&&bb.activityIndicator.apply(e.querySelectorAll("[data-bb-type=activity-indicator]")),bb.checkbox&&bb.checkbox.apply(e.querySelectorAll("input[type=checkbox]")),bb.toggle&&bb.toggle.apply(e.querySelectorAll("[data-bb-type=toggle]"))},getCurScreen:function(){return document.querySelector("[data-bb-type=screen]")},device:{isHiRes:!1,isBB5:!1,isBB6:!1,isBB7:!1,isBB10:!1,isPlayBook:!1,isRipple:!1,is1024x600:!1,is1280x768:!1,is720x720:!1,is1280x720:!1},options:{onbackkey:null,onscreenready:null,ondomready:null,controlsDark:!1,coloredTitleBar:!1,listsDark:!1,highlightColor:"#00A8DF",bb10ForPlayBook:!1},loadScreen:function(url,id,popping,guid,params,screenRecord){var xhr=new XMLHttpRequest,container=document.createElement("div"),_reduce=function(e,t,i){var n=i;return Array.prototype.forEach.apply(e,[function(e){n=t(n,e)}]),n},whereScript=function(e,t){return"SCRIPT"===t.nodeName&&e.push(t),_reduce(t.childNodes,whereScript,e)},i,scripts=[],newScriptTags=[];xhr.open("GET",url,!1),xhr.send(),container.setAttribute("id",guid),container.innerHTML=xhr.responseText,scripts=_reduce(container.childNodes,whereScript,[]),container.scriptIds=[],screenRecord&&(screenRecord.scripts=[]),scripts.forEach(function(script){var scriptTag=document.createElement("script"),type=script.getAttribute("type");if(!type||"text/javascript"==type.toLowerCase()){if(script.text)return eval(script.text),void 0;var scriptGuid=bb.guidGenerator();screenRecord?screenRecord.scripts.push({id:scriptGuid,onunload:script.getAttribute("onunload")}):container.scriptIds.push({id:scriptGuid,onunload:script.getAttribute("onunload")}),scriptTag.setAttribute("type","text/javascript"),scriptTag.setAttribute("src",script.getAttribute("src")),scriptTag.setAttribute("id",scriptGuid),newScriptTags.push(scriptTag),script.parentNode.removeChild(script)}}),container.getElementById=function(e,t){var i=null;if(t||(t=this),t.getAttribute("id")==e)return t;for(var n=0;t.childNodes.length>n;n++){var o=t.childNodes[n];if(1==o.nodeType&&(i=this.getElementById(e,o)))break}return i},bb.screen.scriptCounter=0,bb.screen.totalScripts=newScriptTags.length;for(var i=0;newScriptTags.length>i;i++)document.body.appendChild(newScriptTags[i]),newScriptTags[i].onload=function(){bb.screen.scriptCounter++,bb.screen.scriptCounter==bb.screen.totalScripts&&bb.initContainer(container,id,popping,params)};return 0===bb.screen.totalScripts&&setTimeout(function(){bb.initContainer(container,id,popping,params)},0),container},initContainer:function(e,t,i,n){bb.options.onscreenready&&bb.options.onscreenready(e,t,n),bb.doLoad(e),document.body.appendChild(e);var o,r,b,a=e.querySelectorAll("[data-bb-type=screen]"),s=null;if(a.length>0){if(a=a[0],i){var l,c=bb.screens[bb.screens.length-1].container;o=c.querySelectorAll("[data-bb-type=screen]")[0],l=o.hasAttribute("data-bb-effect")?o.getAttribute("data-bb-effect"):void 0,l&&(a.style["z-index"]="-100","fade"==l.toLowerCase()?o.setAttribute("data-bb-effect","fade-out"):"slide-left"==l.toLowerCase()?o.setAttribute("data-bb-effect","slide-out-right"):"slide-right"==l.toLowerCase()?o.setAttribute("data-bb-effect","slide-out-left"):"slide-up"==l.toLowerCase()?o.setAttribute("data-bb-effect","slide-out-down"):"slide-down"==l.toLowerCase()&&o.setAttribute("data-bb-effect","slide-out-up"))}else o=a;if(o.popping=i,o.hasAttribute("data-bb-effect")&&!bb.device.isBB5&&!bb.device.isBB6&&(r=o.getAttribute("data-bb-effect"))){if(r=r.toLowerCase(),"fade"==r)s=bb.screen.fadeIn;else if("fade-out"==r)s=bb.screen.fadeOut;else if(!bb.device.isBB7)switch(r){case"slide-left":s=bb.screen.slideLeft;break;case"slide-out-left":s=bb.screen.slideOutLeft;break;case"slide-right":s=bb.screen.slideRight;break;case"slide-out-right":s=bb.screen.slideOutRight;break;case"slide-up":s=bb.screen.slideUp;break;case"slide-out-up":s=bb.screen.slideOutUp;break;case"slide-down":s=bb.screen.slideDown;break;case"slide-out-down":s=bb.screen.slideOutDown}o.style.display="inline",s&&(b=document.createElement("div"),o.overlay=b,b.setAttribute("class","bb-transition-overlay"),document.body.appendChild(b),bb.screen.animating=!0,o.doEndAnimation=function(){var t=this.style;bb.screen.animating=!1,document.body.removeChild(this.overlay),this.overlay=null,bb.screens.length>1?this.popping?(this.style.display="none",this.parentNode.parentNode.removeChild(this.parentNode),bb.screens.pop(),a.style["z-index"]="",bb.screens[bb.screens.length-1].container=e):(bb.removePreviousScreenFromDom(),t.left="",t.right="",t.top="",t.bottom="",t.width="",t.height="",t["-webkit-animation-name"]="",t["-webkit-animation-duration"]="",t["-webkit-animation-timing-function"]="",t["-webkit-transform"]=""):1>=bb.screens.length&&(t.left="",t.right="",t.top="",t.bottom="",t.width="",t.height="",t["-webkit-animation-name"]="",t["-webkit-animation-duration"]="",t["-webkit-animation-timing-function"]="",t["-webkit-transform"]=""),this.removeEventListener("webkitAnimationEnd",this.doEndAnimation),bb.createScreenScroller(a)},o.doEndAnimation=o.doEndAnimation.bind(o),o.addEventListener("webkitAnimationEnd",o.doEndAnimation),s.call(this,o))}}if(bb.options.ondomready?(bb.domready.container=e,bb.domready.id=t,bb.domready.params=n,setTimeout(bb.domready.fire,1)):setTimeout(bb.domready.fireEventsOnly,1),!s){if(i){if(i){a.style["z-index"]="";var d=bb.screens[bb.screens.length-1].container;d.parentNode.removeChild(d),bb.screens.pop(),bb.screens[bb.screens.length-1].container=e}}else(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&bb.screens.length>0?bb.removePreviousScreenFromDom():bb.screens.length>1&&bb.removePreviousScreenFromDom();bb.createScreenScroller(a)}},domready:{container:null,id:null,params:null,fire:function(){if(bb.screen.animating)return setTimeout(bb.domready.fire,250),void 0;var e=document.createEvent("Events");e.initEvent("bbuidomready",!0,!0),document.dispatchEvent(e),e=document.createEvent("Events"),e.initEvent("bbuilistready",!0,!0),document.dispatchEvent(e),bb.options.ondomready(bb.domready.container,bb.domready.id,bb.domready.params),bb.domready.container=null,bb.domready.id=null,bb.domready.params=null,e=document.createEvent("Events"),e.initEvent("bbuidomprocessed",!0,!0),document.dispatchEvent(e)},fireEventsOnly:function(){if(bb.screen.animating)return setTimeout(bb.domready.fireEventsOnly,250),void 0;var e=document.createEvent("Events");e.initEvent("bbuidomready",!0,!0),document.dispatchEvent(e),e=document.createEvent("Events"),e.initEvent("bbuilistready",!0,!0),document.dispatchEvent(e),e=document.createEvent("Events"),e.initEvent("bbuidomprocessed",!0,!0),document.dispatchEvent(e)}},createScreenScroller:function(e){var t=e.bbUIscrollWrapper;if(t)if(bb.device.isPlayBook){var i={hideScrollbar:!0,fadeScrollbar:!0,onBeforeScrollStart:function(e){var t=e.target;if(!t.parentNode||"bb-bb10-dropdown-items"!=t.parentNode.getAttribute("class")){for(;1!=t.nodeType;)t=t.parentNode;if("SELECT"!=t.tagName&&"INPUT"!=t.tagName&&"TEXTAREA"!=t.tagName&&"AUDIO"!=t.tagName&&"VIDEO"!=t.tagName){e.preventDefault();var i=document.activeElement;i&&("SELECT"==i.tagName||"INPUT"==i.tagName||"TEXTAREA"==i.tagName||"AUDIO"==i.tagName||"VIDEO"==i.tagName)&&i.blur()}}},onScrollEnd:function(){evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt)},onScrollMove:function(t){e.onscroll&&e.onscroll(t),evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt)}};bb.scroller=new iScroll(t,i)}else bb.device.isBB10&&(bb.scroller=null,t.style["-webkit-overflow-scrolling"]="-blackberry-touch",t.onscroll=function(t){e.onscroll&&e.onscroll(t)})},clearScrollers:function(){for(var e,t=bb.dropdownScrollers-1;t>-1;t--)e=bb.dropdownScrollers[t],e.destroy(),e=null,bb.dropdownScrollers.pop()},removeTopMostScreenFromDom:function(){var e=bb.screens.length,t=document.getElementById(bb.screens[e-1].guid);document.body.removeChild(t)},removePreviousScreenFromDom:function(){var e,t,i=bb.screens.length;1!=i&&(t=i>1?2:1,e=document.getElementById(bb.screens[i-t].guid),e&&document.body.removeChild(e))},pushScreen:function(e,t,i){bb.removeLoadedScripts(),bb.menuBar.clearMenu();var n,o=bb.screens.length;o>0&&(bb.screen.overlay=null,bb.screen.tabOverlay=null,bb.clearScrollers(),bb.screen.contextMenu&&(bb.screen.contextMenu=null),(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&(n=document.getElementById(bb.screens[o-1].guid),n.style.display="none",window.scroll(0,0)));var r=bb.guidGenerator(),b=bb.loadScreen(e,t,!1,r,i);bb.screens.push({id:t,url:e,scripts:b.scriptIds,container:b,guid:r,params:i})},popScreen:function(){var e,t,i=bb.screens.length;if(i>1){for(bb.removeLoadedScripts(),bb.clearScrollers(),bb.menuBar.clearMenu(),bb.screen.overlay=null,bb.screen.tabOverlay=null,e=0;bb.windowListeners.length>e;e++)t=bb.windowListeners[e],window.removeEventListener(t.name,t.eventHandler,!1);for(bb.windowListners=[],e=0;bb.documentListeners.length>e;e++)t=bb.documentListeners[e],document.removeEventListener(t.name,t.eventHandler,!1);bb.documentListeners=[];var n=bb.screens[i-2];bb.loadScreen(n.url,n.id,!0,n.guid,n.params,n),(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&window.scroll(0,0)}else blackberry&&blackberry.app.exit()},removeLoadedScripts:function(){var numItems=bb.screens.length;if(numItems>0)for(var currentStackItem=bb.screens[numItems-1],current=document.getElementById(currentStackItem.guid),i=0;currentStackItem.scripts.length>i;i++){var bbScript=currentStackItem.scripts[i],scriptTag=document.getElementById(bbScript.id);bbScript.onunload&&eval(bbScript.onunload),scriptTag&&document.body.removeChild(scriptTag)}},innerHeight:function(){return bb.device.isPlayBook?window.orientation?0==window.orientation||180==window.orientation?600:-90==window.orientation||90==window.orientation?1024:void 0:window.innerHeight:window.innerHeight},innerWidth:function(){return bb.device.isPlayBook?window.orientation?0==window.orientation||180==window.orientation?1024:-90==window.orientation||90==window.orientation?600:void 0:window.innerWidth:window.innerWidth},getOrientation:function(){if(bb.device.is720x720)return"portrait";if(bb.device.isPlayBook){if(!window.orientation)return window.innerWidth>window.innerHeight?"landscape":"portrait";if(0==window.orientation||180==window.orientation)return"landscape";if(-90==window.orientation||90==window.orientation)return"portrait"}else{if(void 0==window.orientation)return window.innerWidth>window.innerHeight?"landscape":"portrait";if(0==window.orientation||180==window.orientation)return"portrait";if(-90==window.orientation||90==window.orientation)return"landscape"}},cutHex:function(e){return"#"==e.charAt(0)?e.substring(1,7):e},guidGenerator:function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+e()+e()+e()+e()+e()+e()},refresh:function(){bb.scroller&&bb.scroller.refresh()},isScrolledIntoView:function(e){var t=0,i=e;if(i.offsetParent)do t+=i.offsetTop,i.scrollTop&&(t-=i.scrollTop),bb.device.isPlayBook&&(i.scroller?t+=i.scroller.y:i.bbUIscrollWrapper&&(t+=bb.scroller.y));while(i=i.offsetParent);return bb.innerHeight()>t}},Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}},_bb_bbmBubble={apply:function(e){for(var t=0;e.length>t;t++)bb.bbmBubble.style(e[t])},style:function(e){var t,i,n,o;if(e.styleItem=function(t){return i=document.createElement("img"),i.setAttribute("src",t.getAttribute("data-bb-img")),o=document.createElement("div"),o.setAttribute("class","details"),o.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(i),t.appendChild(o),t.image=i,t.details=o,t.outerElement=e,t.getCaption=function(){return this.details.innerText},t.getCaption=t.getCaption.bind(t),t.setCaption=function(e){this.details.innerHTML=e,bb.refresh()},t.setCaption=t.setCaption.bind(t),t.getImage=function(){return this.image.src},t.getImage=t.getImage.bind(t),t.setImage=function(e){this.image.setAttribute("src",e),bb.refresh()},t.setImage=t.setImage.bind(t),t.remove=function(){this.outerHTML="",bb.refresh()},t.remove=t.remove.bind(t),t},e.styleItem=e.styleItem.bind(e),e.hasAttribute("data-bb-style")){var r,b=e.getAttribute("data-bb-style").toLowerCase();"left"==b?e.setAttribute("class","bb-bbm-bubble-left"):e.setAttribute("class","bb-bbm-bubble-right");var a=e.querySelectorAll("[data-bb-type=item]");for(r=0;r>a.length;r++)e.removeChild(a[r]);for(t=document.createElement("div"),t.setAttribute("class","top-left image"),e.appendChild(t),t=document.createElement("div"),t.setAttribute("class","top-right image"),e.appendChild(t),t=document.createElement("div"),t.setAttribute("class","inside"),e.appendChild(t),insidePanel=document.createElement("div"),insidePanel.setAttribute("class","nogap"),t.appendChild(insidePanel),e.insidePanel=insidePanel,t=document.createElement("div"),t.setAttribute("class","bottom-left image"),e.appendChild(t),t=document.createElement("div"),t.setAttribute("class","bottom-right image"),e.appendChild(t),r=0;a.length>r;r++)n=a[r],insidePanel.appendChild(e.styleItem(n))}return e.getStyle=function(){return this.getAttribute("data-bb-style")},e.getStyle=e.getStyle.bind(e),e.setStyle=function(e){"left"==e?(this.setAttribute("data-bb-style",e),this.setAttribute("class","bb-bbm-bubble-left")):"right"==e&&(this.setAttribute("data-bb-style",e),this.setAttribute("class","bb-bbm-bubble-right")),bb.refresh()},e.setStyle=e.setStyle.bind(e),e.show=function(){this.style.display="block",bb.refresh()},e.show=e.show.bind(e),e.hide=function(){this.style.display="none",bb.refresh()},e.hide=e.hide.bind(e),e.remove=function(){this.parentNode.removeChild(this),bb.refresh()},e.remove=e.remove.bind(e),e.clear=function(){this.insidePanel.innerHTML="",bb.refresh()},e.clear=e.clear.bind(e),e.getItems=function(){return this.querySelectorAll("[data-bb-type=item]")},e.getItems=e.getItems.bind(e),e}},bb={scroller:null,screens:[],dropdownScrollers:[],windowListeners:[],documentListeners:[],transparentPixel:"data:image/png;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",imageList:null,activityIndicator:null,fileInput:null,button:null,scrollPanel:null,bbmBubble:null,dropdown:null,textInput:null,roundPanel:null,grid:null,pillButtons:null,labelControlContainers:null,slider:null,radio:null,progress:null,checkbox:null,toggle:null,init:function(e){if(e)for(var t in e)bb.options[t]=e[t];window.blackberry&&blackberry.system&&blackberry.system.event&&blackberry.system.event.onHardwareKey&&(bb.options.onbackkey?blackberry.system.event.onHardwareKey(blackberry.system.event.KEY_BACK,bb.options.onbackkey):blackberry.system.event.onHardwareKey(blackberry.system.event.KEY_BACK,bb.popScreen)),bb.device.isRipple=navigator.userAgent.indexOf("Ripple")>=0||window.tinyHippos,bb.device.isPlayBook=navigator.userAgent.indexOf("PlayBook")>=0||1024==window.innerWidth&&600==window.innerHeight||600==window.innerWidth&&1024==window.innerHeight,bb.device.isBB10=bb.device.isPlayBook&&bb.options.bb10ForPlayBook?!0:navigator.userAgent.indexOf("BB10")>=0,bb.device.isBB7=navigator.userAgent.indexOf("7.0.0")>=0||navigator.userAgent.indexOf("7.1.0")>=0,bb.device.isBB6=navigator.userAgent.indexOf("6.0.0")>=0,bb.device.isBB5=navigator.userAgent.indexOf("5.0.0")>=0,bb.device.is1024x600=bb.device.isPlayBook,bb.device.is1280x768=1280==window.innerWidth&&768==window.innerHeight||768==window.innerWidth&&1280==window.innerHeight,bb.device.is720x720=720==window.innerWidth&&720==window.innerHeight,bb.device.is1280x720=1280==window.innerWidth&&720==window.innerHeight||720==window.innerWidth&&1280==window.innerHeight,bb.device.isHiRes=bb.device.isRipple?window.innerHeight>480||window.innerWidth>480:screen.width>480||screen.height>480;var t,i=document.head.querySelectorAll("meta[name=viewport]");for(t=0;i.length>t;t++)try{document.head.removeChild(i[t])}catch(n){}var o=document.createElement("meta");o.setAttribute("name","viewport"),bb.device.isBB10&&!bb.device.is1024x600?o.setAttribute("content","initial-scale="+1/window.devicePixelRatio+",user-scalable=no"):o.setAttribute("content","initial-scale=1.0,width=device-width,user-scalable=no,target-densitydpi=device-dpi"),document.head.appendChild(o);var r=parseInt(bb.cutHex(bb.options.highlightColor).substring(0,2),16),b=parseInt(bb.cutHex(bb.options.highlightColor).substring(2,4),16),a=parseInt(bb.cutHex(bb.options.highlightColor).substring(4,6),16);if(bb.options.shades={R:r,G:b,B:a,darkHighlight:"rgb("+(r-120)+", "+(b-120)+", "+(a-120)+")",mediumHighlight:"rgb("+(r-60)+", "+(b-60)+", "+(a-60)+")",darkOutline:"rgb("+(r-32)+", "+(b-32)+", "+(a-32)+")",darkDarkHighlight:"rgb("+(r-140)+", "+(b-140)+", "+(a-140)+")"},document.styleSheets&&document.styleSheets.length)try{document.styleSheets[0].insertRule(".bb10Highlight {background-color:"+bb.options.highlightColor+";background-image:none;}",0),document.styleSheets[0].insertRule(".bbProgressHighlight {background-color:#92B43B;background-image:none;}",0),document.styleSheets[0].insertRule(".bb10-button-highlight {color:White;background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.shades.darkHighlight+"), to("+bb.options.highlightColor+"));border-color:#53514F;}",0),document.styleSheets[0].insertRule(".pb-button-light-highlight {color:"+bb.options.shades.darkHighlight+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".pb-button-dark-highlight {color:"+bb.options.highlightColor+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10Accent {background-color:"+bb.options.shades.darkHighlight+";}",0),document.styleSheets[0].insertRule(".bb10-title-colored {color:white;border-color: "+bb.options.shades.darkHighlight+";text-shadow: 0px 2px black;background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10-title-button-container-colored {color:white;text-shadow: 0px 2px black;border-color: "+bb.options.shades.darkDarkHighlight+";background-color: "+bb.options.shades.darkHighlight+";}",0),document.styleSheets[0].insertRule(".bb10-title-button-colored {border-color: "+bb.options.shades.darkDarkHighlight+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.mediumHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10-title-button-colored-highlight {border-color: "+bb.options.shades.darkDarkHighlight+";background-color: "+bb.options.shades.darkHighlight+";}",0)}catch(n){console.log(n.message)}bb.screen.controlColor=bb.options.controlsDark?"dark":"light",bb.screen.listColor=bb.options.listsDark?"dark":"light",bb.device.isBB10?(bb.imageList=_bb10_imageList,bb.activityIndicator=_bb10_activityIndicator,bb.fileInput=_bb10_fileInput,bb.button=_bb10_button,bb.scrollPanel=_bb_PlayBook_10_scrollPanel,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb10_dropdown,bb.textInput=_bb10_textInput,bb.roundPanel=_bb10_roundPanel,bb.grid=_bb10_grid,bb.pillButtons=_bb10_pillButtons,bb.labelControlContainers=_bb10_labelControlContainers,bb.slider=_bb10_slider,bb.radio=_bb10_radio,bb.progress=_bb_progress,bb.checkbox=_bb10_checkbox,bb.toggle=_bb10_toggle,bb.contextMenu=bb.device.isPlayBook||bb.device.isRipple?_PlayBook_contextMenu:_bb10_contextMenu,bb.actionOverflow=_PlayBook_contextMenu):bb.device.isBB5?(bb.imageList=_bb_5_6_7_imageList,bb.button=_bb5_button,bb.bbmBubble=_bb_bbmBubble,bb.roundPanel=_bb_5_6_7_roundPanel,bb.pillButtons=_bb5_pillButtons,bb.labelControlContainers=_bb5_labelControlContainers,bb.progress=_bb_progress):bb.device.isPlayBook?(bb.imageList=_bbPlayBook_imageList,bb.button=_bbPlayBook_button,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb_6_7_PlayBook_dropdown,bb.textInput=_bbPlayBook_textInput,bb.pillButtons=_bb_6_7_PlayBook_pillButtons,bb.labelControlContainers=_bb_6_7_PlayBook_labelControlContainers,bb.progress=_bb_progress,bb.scrollPanel=_bb_PlayBook_10_scrollPanel,bb.roundPanel=_bbPlayBook_roundPanel,bb.activityIndicator=_bbPlayBook_activityIndicator):(bb.imageList=_bb_5_6_7_imageList,bb.button=_bb_6_7_button,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb_6_7_PlayBook_dropdown,bb.textInput=_bb_6_7_textInput,bb.pillButtons=_bb_6_7_PlayBook_pillButtons,bb.labelControlContainers=_bb_6_7_PlayBook_labelControlContainers,bb.progress=_bb_progress,bb.roundPanel=_bb_5_6_7_roundPanel),!bb.device.isBB10||bb.device.isPlayBook||bb.device.isRipple||bb.device.is720x720||(blackberry.event.addEventListener("keyboardOpening",function(){bb.screen.currentScreen.actionBar&&bb.screen.currentScreen.actionBar.hide()}),blackberry.event.addEventListener("keyboardOpened",function(){bb.screen.currentScreen.actionBar&&bb.screen.focusedInput&&(bb.screen.focusedInput.container?bb.screen.focusedInput.container.scrollIntoView(!1):bb.screen.focusedInput.scrollIntoView(!1))}),blackberry.event.addEventListener("keyboardClosed",function(){bb.screen.currentScreen.actionBar&&bb.screen.currentScreen.actionBar.show()})),!bb.device.isBB10||bb.device.isPlayBook||bb.device.isRipple||blackberry.ui&&blackberry.ui.contextmenu&&(blackberry.ui.contextmenu.enabled=!0,blackberry.bbui&&blackberry.bbui.initContext({highlightColor:bb.options.highlightColor}))},doLoad:function(e){var t=e||document.body;bb.screen.apply(t.querySelectorAll("[data-bb-type=screen]")),bb.style(t),bb.screen.reAdjustHeight()},style:function(e){bb.scrollPanel&&bb.scrollPanel.apply(e.querySelectorAll("[data-bb-type=scroll-panel]")),bb.textInput&&bb.textInput.apply(e.querySelectorAll("input[type=text], [type=password], [type=tel], [type=url], [type=email], [type=number], [type=date], [type=time], [type=datetime], [type=month], [type=datetime-local], [type=color], [type=search]")),bb.dropdown&&bb.dropdown.apply(e.querySelectorAll("select")),bb.roundPanel&&bb.roundPanel.apply(e.querySelectorAll("[data-bb-type=round-panel]")),bb.imageList&&bb.imageList.apply(e.querySelectorAll("[data-bb-type=image-list]")),bb.grid&&bb.grid.apply(e.querySelectorAll("[data-bb-type=grid-layout]")),bb.bbmBubble&&bb.bbmBubble.apply(e.querySelectorAll("[data-bb-type=bbm-bubble]")),bb.pillButtons&&bb.pillButtons.apply(e.querySelectorAll("[data-bb-type=pill-buttons]")),bb.labelControlContainers&&bb.labelControlContainers.apply(e.querySelectorAll("[data-bb-type=label-control-container]")),bb.button&&bb.button.apply(e.querySelectorAll("[data-bb-type=button]")),bb.fileInput&&bb.fileInput.apply(e.querySelectorAll("input[type=file]")),bb.slider&&bb.slider.apply(e.querySelectorAll("input[type=range]")),bb.progress&&bb.progress.apply(e.querySelectorAll("progress")),bb.radio&&bb.radio.apply(e.querySelectorAll("input[type=radio]")),bb.activityIndicator&&bb.activityIndicator.apply(e.querySelectorAll("[data-bb-type=activity-indicator]")),bb.checkbox&&bb.checkbox.apply(e.querySelectorAll("input[type=checkbox]")),bb.toggle&&bb.toggle.apply(e.querySelectorAll("[data-bb-type=toggle]"))
},getCurScreen:function(){return document.querySelector("[data-bb-type=screen]")},device:{isHiRes:!1,isBB5:!1,isBB6:!1,isBB7:!1,isBB10:!1,isPlayBook:!1,isRipple:!1,is1024x600:!1,is1280x768:!1,is720x720:!1,is1280x720:!1},options:{onbackkey:null,onscreenready:null,ondomready:null,controlsDark:!1,coloredTitleBar:!1,listsDark:!1,highlightColor:"#00A8DF",bb10ForPlayBook:!1},loadScreen:function(url,id,popping,guid,params,screenRecord){var xhr=new XMLHttpRequest,container=document.createElement("div"),_reduce=function(e,t,i){var n=i;return Array.prototype.forEach.apply(e,[function(e){n=t(n,e)}]),n},whereScript=function(e,t){return"SCRIPT"===t.nodeName&&e.push(t),_reduce(t.childNodes,whereScript,e)},i,scripts=[],newScriptTags=[];xhr.open("GET",url,!1),xhr.send(),container.setAttribute("id",guid),container.innerHTML=xhr.responseText,scripts=_reduce(container.childNodes,whereScript,[]),container.scriptIds=[],screenRecord&&(screenRecord.scripts=[]),scripts.forEach(function(script){var scriptTag=document.createElement("script"),type=script.getAttribute("type");if(!type||"text/javascript"==type.toLowerCase()){if(script.text)return eval(script.text),void 0;var scriptGuid=bb.guidGenerator();screenRecord?screenRecord.scripts.push({id:scriptGuid,onunload:script.getAttribute("onunload")}):container.scriptIds.push({id:scriptGuid,onunload:script.getAttribute("onunload")}),scriptTag.setAttribute("type","text/javascript"),scriptTag.setAttribute("src",script.getAttribute("src")),scriptTag.setAttribute("id",scriptGuid),newScriptTags.push(scriptTag),script.parentNode.removeChild(script)}}),container.getElementById=function(e,t){var i=null;if(t||(t=this),t.getAttribute("id")==e)return t;for(var n=0;t.childNodes.length>n;n++){var o=t.childNodes[n];if(1==o.nodeType&&(i=this.getElementById(e,o)))break}return i},bb.screen.scriptCounter=0,bb.screen.totalScripts=newScriptTags.length;for(var i=0;newScriptTags.length>i;i++)document.body.appendChild(newScriptTags[i]),newScriptTags[i].onload=function(){bb.screen.scriptCounter++,bb.screen.scriptCounter==bb.screen.totalScripts&&bb.initContainer(container,id,popping,params)};return 0===bb.screen.totalScripts&&setTimeout(function(){bb.initContainer(container,id,popping,params)},0),container},initContainer:function(e,t,i,n){bb.options.onscreenready&&bb.options.onscreenready(e,t,n),bb.doLoad(e),document.body.appendChild(e);var o,r,b,a=e.querySelectorAll("[data-bb-type=screen]"),s=null;if(a.length>0){if(a=a[0],i){var l,c=bb.screens[bb.screens.length-1].container;o=c.querySelectorAll("[data-bb-type=screen]")[0],l=o.hasAttribute("data-bb-effect")?o.getAttribute("data-bb-effect"):void 0,l&&(a.style["z-index"]="-100","fade"==l.toLowerCase()?o.setAttribute("data-bb-effect","fade-out"):"slide-left"==l.toLowerCase()?o.setAttribute("data-bb-effect","slide-out-right"):"slide-right"==l.toLowerCase()?o.setAttribute("data-bb-effect","slide-out-left"):"slide-up"==l.toLowerCase()?o.setAttribute("data-bb-effect","slide-out-down"):"slide-down"==l.toLowerCase()&&o.setAttribute("data-bb-effect","slide-out-up"))}else o=a;if(o.popping=i,o.hasAttribute("data-bb-effect")&&!bb.device.isBB5&&!bb.device.isBB6&&(r=o.getAttribute("data-bb-effect"))){if(r=r.toLowerCase(),"fade"==r)s=bb.screen.fadeIn;else if("fade-out"==r)s=bb.screen.fadeOut;else if(!bb.device.isBB7)switch(r){case"slide-left":s=bb.screen.slideLeft;break;case"slide-out-left":s=bb.screen.slideOutLeft;break;case"slide-right":s=bb.screen.slideRight;break;case"slide-out-right":s=bb.screen.slideOutRight;break;case"slide-up":s=bb.screen.slideUp;break;case"slide-out-up":s=bb.screen.slideOutUp;break;case"slide-down":s=bb.screen.slideDown;break;case"slide-out-down":s=bb.screen.slideOutDown}o.style.display="inline",s&&(b=document.createElement("div"),o.overlay=b,b.setAttribute("class","bb-transition-overlay"),document.body.appendChild(b),bb.screen.animating=!0,o.doEndAnimation=function(){var t=this.style;bb.screen.animating=!1,document.body.removeChild(this.overlay),this.overlay=null,bb.screens.length>1?this.popping?(this.style.display="none",this.parentNode.parentNode.removeChild(this.parentNode),bb.screens.pop(),a.style["z-index"]="",bb.screens[bb.screens.length-1].container=e):(bb.removePreviousScreenFromDom(),t.left="",t.right="",t.top="",t.bottom="",t.width="",t.height="",t["-webkit-animation-name"]="",t["-webkit-animation-duration"]="",t["-webkit-animation-timing-function"]="",t["-webkit-transform"]=""):1>=bb.screens.length&&(t.left="",t.right="",t.top="",t.bottom="",t.width="",t.height="",t["-webkit-animation-name"]="",t["-webkit-animation-duration"]="",t["-webkit-animation-timing-function"]="",t["-webkit-transform"]=""),this.removeEventListener("webkitAnimationEnd",this.doEndAnimation),bb.createScreenScroller(a)},o.doEndAnimation=o.doEndAnimation.bind(o),o.addEventListener("webkitAnimationEnd",o.doEndAnimation),s.call(this,o))}}if(bb.options.ondomready?(bb.domready.container=e,bb.domready.id=t,bb.domready.params=n,setTimeout(bb.domready.fire,1)):setTimeout(bb.domready.fireEventsOnly,1),!s){if(i){if(i){a.style["z-index"]="";var d=bb.screens[bb.screens.length-1].container;d.parentNode.removeChild(d),bb.screens.pop(),bb.screens[bb.screens.length-1].container=e}}else(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&bb.screens.length>0?bb.removePreviousScreenFromDom():bb.screens.length>1&&bb.removePreviousScreenFromDom();bb.createScreenScroller(a)}},domready:{container:null,id:null,params:null,fire:function(){if(bb.screen.animating)return setTimeout(bb.domready.fire,250),void 0;var e=document.createEvent("Events");e.initEvent("bbuidomready",!0,!0),document.dispatchEvent(e),e=document.createEvent("Events"),e.initEvent("bbuilistready",!0,!0),document.dispatchEvent(e),bb.options.ondomready(bb.domready.container,bb.domready.id,bb.domready.params),bb.domready.container=null,bb.domready.id=null,bb.domready.params=null,e=document.createEvent("Events"),e.initEvent("bbuidomprocessed",!0,!0),document.dispatchEvent(e)},fireEventsOnly:function(){if(bb.screen.animating)return setTimeout(bb.domready.fireEventsOnly,250),void 0;var e=document.createEvent("Events");e.initEvent("bbuidomready",!0,!0),document.dispatchEvent(e),e=document.createEvent("Events"),e.initEvent("bbuilistready",!0,!0),document.dispatchEvent(e),e=document.createEvent("Events"),e.initEvent("bbuidomprocessed",!0,!0),document.dispatchEvent(e)}},createScreenScroller:function(e){var t=e.bbUIscrollWrapper;if(t)if(bb.device.isPlayBook){var i={hideScrollbar:!0,fadeScrollbar:!0,onBeforeScrollStart:function(e){var t=e.target;if(!t.parentNode||"bb-bb10-dropdown-items"!=t.parentNode.getAttribute("class")){for(;1!=t.nodeType;)t=t.parentNode;if("SELECT"!=t.tagName&&"INPUT"!=t.tagName&&"TEXTAREA"!=t.tagName&&"AUDIO"!=t.tagName&&"VIDEO"!=t.tagName){e.preventDefault();var i=document.activeElement;i&&("SELECT"==i.tagName||"INPUT"==i.tagName||"TEXTAREA"==i.tagName||"AUDIO"==i.tagName||"VIDEO"==i.tagName)&&i.blur()}}},onScrollEnd:function(){evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt)},onScrollMove:function(t){e.onscroll&&e.onscroll(t),evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt)}};bb.scroller=new iScroll(t,i)}else bb.device.isBB10&&(bb.scroller=null,t.style["-webkit-overflow-scrolling"]="-blackberry-touch",t.onscroll=function(t){e.onscroll&&e.onscroll(t)})},clearScrollers:function(){for(var e,t=bb.dropdownScrollers-1;t>-1;t--)e=bb.dropdownScrollers[t],e.destroy(),e=null,bb.dropdownScrollers.pop()},removeTopMostScreenFromDom:function(){var e=bb.screens.length,t=document.getElementById(bb.screens[e-1].guid);document.body.removeChild(t)},removePreviousScreenFromDom:function(){var e,t,i=bb.screens.length;1!=i&&(t=i>1?2:1,e=document.getElementById(bb.screens[i-t].guid),e&&document.body.removeChild(e))},pushScreen:function(e,t,i){bb.removeLoadedScripts(),bb.menuBar.clearMenu();var n,o=bb.screens.length;o>0&&(bb.screen.overlay=null,bb.screen.tabOverlay=null,bb.clearScrollers(),bb.screen.contextMenu&&(bb.screen.contextMenu=null),(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&(n=document.getElementById(bb.screens[o-1].guid),n.style.display="none",window.scroll(0,0)));var r=bb.guidGenerator(),b=bb.loadScreen(e,t,!1,r,i);bb.screens.push({id:t,url:e,scripts:b.scriptIds,container:b,guid:r,params:i})},popScreen:function(){var e,t,i=bb.screens.length;if(i>1){for(bb.removeLoadedScripts(),bb.clearScrollers(),bb.menuBar.clearMenu(),bb.screen.overlay=null,bb.screen.tabOverlay=null,e=0;bb.windowListeners.length>e;e++)t=bb.windowListeners[e],window.removeEventListener(t.name,t.eventHandler,!1);for(bb.windowListners=[],e=0;bb.documentListeners.length>e;e++)t=bb.documentListeners[e],document.removeEventListener(t.name,t.eventHandler,!1);bb.documentListeners=[];var n=bb.screens[i-2];bb.loadScreen(n.url,n.id,!0,n.guid,n.params,n),(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&window.scroll(0,0)}else blackberry&&blackberry.app.exit()},removeLoadedScripts:function(){var numItems=bb.screens.length;if(numItems>0)for(var currentStackItem=bb.screens[numItems-1],current=document.getElementById(currentStackItem.guid),i=0;currentStackItem.scripts.length>i;i++){var bbScript=currentStackItem.scripts[i],scriptTag=document.getElementById(bbScript.id);bbScript.onunload&&eval(bbScript.onunload),scriptTag&&document.body.removeChild(scriptTag)}},innerHeight:function(){return bb.device.isPlayBook?window.orientation?0==window.orientation||180==window.orientation?600:-90==window.orientation||90==window.orientation?1024:void 0:window.innerHeight:window.innerHeight},innerWidth:function(){return bb.device.isPlayBook?window.orientation?0==window.orientation||180==window.orientation?1024:-90==window.orientation||90==window.orientation?600:void 0:window.innerWidth:window.innerWidth},getOrientation:function(){if(bb.device.is720x720)return"portrait";if(bb.device.isPlayBook){if(!window.orientation)return window.innerWidth>window.innerHeight?"landscape":"portrait";if(0==window.orientation||180==window.orientation)return"landscape";if(-90==window.orientation||90==window.orientation)return"portrait"}else{if(void 0==window.orientation)return window.innerWidth>window.innerHeight?"landscape":"portrait";if(0==window.orientation||180==window.orientation)return"portrait";if(-90==window.orientation||90==window.orientation)return"landscape"}},cutHex:function(e){return"#"==e.charAt(0)?e.substring(1,7):e},guidGenerator:function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+e()+e()+e()+e()+e()+e()},refresh:function(){bb.scroller&&bb.scroller.refresh()},isScrolledIntoView:function(e){var t=0,i=e;if(i.offsetParent)do t+=i.offsetTop,i.scrollTop&&(t-=i.scrollTop),bb.device.isPlayBook&&(i.scroller?t+=i.scroller.y:i.bbUIscrollWrapper&&(t+=bb.scroller.y));while(i=i.offsetParent);return bb.innerHeight()>t}},Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}},bb.actionBar={apply:function(e,t){var i,n,o,r,b,a,s,l=e.querySelectorAll("[data-bb-type=action]"),c=[],d=[],u=[],h=[],p=e,m="1280x768-1280x720",g=bb.getOrientation(),v=document.createElement("div"),f=document.createElement("div");for(bb.device.is1024x600?m="1024x600":bb.device.is1280x768||bb.device.is1280x720?m="1280x768-1280x720":bb.device.is720x720&&(m="720x720"),e.res=m,e.isVisible=!0,e.setAttribute("class","bb-bb10-action-bar-"+m+" bb-bb10-action-bar-"+g+"-"+m+" bb-bb10-action-bar-dark"),e.mainBarTabs=u,e.mainBarButtons=c,e.overflowButtons=d,e.overflowTabs=h,e.oncontextmenu=function(e){var t=e.srcElement,i=t.parentNode;if(i)for(;i;){if(i==this){e.preventDefault();break}i=i.parentNode}},e.oncontextmenu=e.oncontextmenu.bind(e),window.addEventListener("contextmenu",e.oncontextmenu),bb.windowListeners.push({name:"contextmenu",eventHandler:e.oncontextmenu}),v.setAttribute("class","bb-bb10-action-bar-slide-label-"+m),e.slideLabel=v,f.setAttribute("class","bb-bb10-action-bar-slide-label-text-"+m),e.slideText=f,e.parentNode.appendChild(v),e.parentNode.appendChild(f),e.slideUpShown=!1,e.doLabelTimer=function(){this.slideUpShown=!0,this.slideLabel.style.height="48px",this.slideText.style.height="48px",this.slideText.style.visibility="visible"},e.doLabelTimer=e.doLabelTimer.bind(e),e.doTouchEnd=function(){this.timer&&clearTimeout(this.timer),this.slideUpShown&&(this.slideUpShown=!1,this.slideLabel.style.height="0px",this.slideText.style.visibility="hidden",this.slideText.style.height="0px")},e.doTouchEnd=e.doTouchEnd.bind(e),e.showLabel=function(e,t){if(bb.device.is720x720){var i=window.getComputedStyle(e);this.slideText.innerHTML=t,this.slideText.style.width=parseInt(i.width)+"px",this.slideText.style["margin-left"]=bb.actionBar.getBackBtnWidth(this.backBtn)+e.offsetLeft+"px",this.timer=setTimeout(this.doLabelTimer,1e3)}},e.showLabel=e.showLabel.bind(e),s=0;l.length>s;s++)i=l[s],i.hasAttribute("data-bb-style")&&(r=i.getAttribute("data-bb-style").toLowerCase(),"button"==r?i.hasAttribute("data-bb-overflow")&&"true"==i.getAttribute("data-bb-overflow").toLowerCase()?d.push(i):c.push(i):i.hasAttribute("data-bb-overflow")&&"true"==i.getAttribute("data-bb-overflow").toLowerCase()?h.push(i):u.push(i));if(e.hasAttribute("data-bb-back-caption")&&0==e.querySelectorAll("[data-bb-style=tab]").length){var y,w,B,A;b=document.createElement("div"),b.setAttribute("class","bb-bb10-action-bar-back-button-"+m+" bb-bb10-action-bar-back-button-"+m+"-dark bb-bb10-action-bar-back-button-"+g+"-"+m),b.onclick=function(){window.setTimeout(bb.popScreen,0)},e.backBtn=b,y=document.createElement("div"),y.setAttribute("class","bb-bb10-action-bar-back-chevron-"+m+"-dark"),b.appendChild(y),w=document.createElement("div"),w.setAttribute("class","bb-bb10-action-bar-back-text-"+m+" bb-bb10-action-bar-back-text-"+g+"-"+m),w.innerHTML=e.getAttribute("data-bb-back-caption"),b.backCaption=w,b.appendChild(w),A=document.createElement("div"),A.setAttribute("class","bb-bb10-action-bar-back-button-highlight"),A.style.position="absolute",A.style.width=bb.device.is1024x600?"4px":"8px",A.style["background-color"]="transparent",b.updateHighlightDimensions=function(e){bb.device.is1024x600?(A.style.height="portrait"==e?"57px":"57px",A.style.top="8px"):bb.device.is1280x768||bb.device.is1280x720?(A.style.height="portrait"==e?"110px":"70px",A.style.top="15px"):bb.device.is720x720?(A.style.height="78px",A.style.top="15px"):(A.style.height="portrait"==e?"110px":"110px",A.style.top="15px")},b.updateHighlightDimensions=b.updateHighlightDimensions.bind(b),b.backHighlight=A,b.updateHighlightDimensions(g),b.appendChild(A),b.ontouchstart=function(){this.backHighlight.style["background-color"]=bb.options.highlightColor},b.ontouchend=function(){this.backHighlight.style["background-color"]="transparent"},B=document.createElement("div"),B.setAttribute("class","bb-bb10-action-bar-back-slash-"+m+"-dark bb-bb10-action-bar-back-slash-"+g+"-"+m),b.backslash=B;var x=document.createElement("table"),k=document.createElement("tr"),S=document.createElement("td");for(e.appendChild(x),x.appendChild(k),x.setAttribute("class","bb-bb10-action-bar-table"),S.style.width=bb.device.is1024x600?bb.actionBar.getBackBtnWidth(b)-16+"px":bb.actionBar.getBackBtnWidth(b)-33+"px",k.appendChild(S),b.innerChevron=S,S.appendChild(b),S=document.createElement("td"),S.style.width=bb.device.is1024x600?"16px":"33px",B.style["background-color"]=bb.options.shades.darkOutline,k.appendChild(S),S.appendChild(B),S=document.createElement("td"),S.style.width="100%",k.appendChild(S),p=S,s=0;l.length>s;s++)i=l[s],S.appendChild(i)}if(h.length>0&&(e.tabOverflowMenu=bb.tabOverflow.create(t),e.tabOverflowMenu.actionBar=e,i=document.createElement("div"),i.actionBar=e,i.tabOverflowMenu=e.tabOverflowMenu,i.setAttribute("data-bb-type","action"),i.setAttribute("data-bb-style","tab"),i.setAttribute("data-bb-img","overflow"),i.onclick=function(){this.tabOverflowMenu.show()},e.tabOverflowBtn=i,p.insertBefore(i,p.firstChild)),d.length>0&&(e.menu=bb.actionOverflow.create(t),e.appendChild(e.menu),i=document.createElement("div"),i.menu=e.menu,i.menu.actionBar=e,i.setAttribute("data-bb-type","action"),i.setAttribute("data-bb-style","button"),i.setAttribute("data-bb-img","overflow"),i.onclick=function(){this.menu.show()},e.actionOverflowBtn=i,p.appendChild(i)),e.getUsableWidth=function(){return bb.innerWidth()-bb.actionBar.getBackBtnWidth(this.backBtn)-bb.actionBar.getActionOverflowBtnWidth(this.actionOverflowBtn)-bb.actionBar.getTabOverflowBtnWidth(this.tabOverflowBtn)},e.getUsableWidth=e.getUsableWidth.bind(e),e.switchOrientationCSS=function(e){if(e){var t=bb.getOrientation();e="portrait"==t?e.replace("landscape","portrait"):e.replace("portrait","landscape")}return e},e.switchOrientationCSS=e.switchOrientationCSS.bind(e),e.reLayoutActionBar=function(){var e,t,i,n,o="button",r=0,b=5,a=0,s=0,l=0,c=bb.getOrientation();for(this.actionOverflowBtn&&b--,this.backBtn&&b--,this.tabOverflowBtn&&b--,e=0;this.mainBarTabs.length>e&&a!=b;e++)i=this.mainBarTabs[e],1==i.visible&&a++;for(e=0;this.mainBarButtons.length>e&&a!=b;e++)t=this.mainBarButtons[e],1==t.visible&&a++;for(a=0==a?1:a,r=Math.floor(this.getUsableWidth()/a),n=this.getAttribute("class"),n=this.switchOrientationCSS(n),this.setAttribute("class",n),this.isVisible&&(bb.screen.currentScreen.outerScrollArea.style.bottom=bb.screen.getActionBarHeight()+"px",bb.scroller&&bb.scroller.refresh()),this.backBtn&&(n=this.backBtn.getAttribute("class"),n=this.switchOrientationCSS(n),this.backBtn.setAttribute("class",n),this.backBtn.updateHighlightDimensions(c),n=this.backBtn.backCaption.getAttribute("class"),n=this.switchOrientationCSS(n),this.backBtn.backCaption.setAttribute("class",n),n=this.backBtn.backslash.getAttribute("class"),n=this.switchOrientationCSS(n),this.backBtn.backslash.setAttribute("class",n),this.backBtn.innerChevron.style.width=bb.device.is1024x600?bb.actionBar.getBackBtnWidth(this.backBtn)-16+"px":bb.actionBar.getBackBtnWidth(this.backBtn)-33+"px"),a=0,l=r-2,e=0;this.mainBarTabs.length>e;e++)i=this.mainBarTabs[e],b>a&&1==i.visible?(s+=l,i.style.width=l+"px",i.normal=this.switchOrientationCSS(i.normal),i.highlight=this.switchOrientationCSS(i.highlight),n=i.getAttribute("class"),n=this.switchOrientationCSS(n),i.setAttribute("class",n),n=i.display.getAttribute("class"),n=this.switchOrientationCSS(n),i.display.setAttribute("class",n),o="tab",a++):(i.style.display="none",i.visible=!1);for(l=r-1,e=0;this.mainBarButtons.length>e;e++)t=this.mainBarButtons[e],b>a&&1==t.visible?(s+=l,t.style.width=l+"px",t.highlight.style.width=.6*r+"px",t.highlight.style["margin-left"]=.2*r+"px",t.normal="tab"==o?"bb-bb10-action-bar-action-"+t.res+" bb-bb10-action-bar-action-"+c+"-"+t.res+" bb-bb10-action-bar-button-dark bb-bb10-action-bar-button-tab-left-"+t.res+"-dark":"bb-bb10-action-bar-action-"+t.res+" bb-bb10-action-bar-action-"+c+"-"+t.res+" bb-bb10-action-bar-button-dark",t.setAttribute("class",t.normal),t.normal=this.switchOrientationCSS(t.normal),n=t.getAttribute("class"),n=this.switchOrientationCSS(n),t.setAttribute("class",n),o="button",a++):(t.style.display="none",t.visible=!1);this.actionOverflowBtn&&(this.actionOverflowBtn.normal="tab"==o?"bb-bb10-action-bar-action-"+this.actionOverflowBtn.res+" bb-bb10-action-bar-action-"+c+"-"+this.actionOverflowBtn.res+" bb-bb10-action-bar-button-dark bb-bb10-action-bar-button-tab-left-"+this.actionOverflowBtn.res+"-dark":"bb-bb10-action-bar-action-"+this.actionOverflowBtn.res+" bb-bb10-action-bar-action-"+c+"-"+this.actionOverflowBtn.res+" bb-bb10-action-bar-button-dark",this.actionOverflowBtn.style.width=bb.actionBar.getActionOverflowBtnWidth(this.actionOverflowBtn)-1+"px",this.actionOverflowBtn.highlight.style.width=.6*bb.actionBar.getActionOverflowBtnWidth(this.actionOverflowBtn)+"px",this.actionOverflowBtn.highlight.style["margin-left"]=.2*bb.actionBar.getActionOverflowBtnWidth(this.actionOverflowBtn)+"px",this.actionOverflowBtn.style.float="right",this.actionOverflowBtn.setAttribute("class",this.actionOverflowBtn.normal),this.actionOverflowBtn.normal=this.switchOrientationCSS(this.actionOverflowBtn.normal),n=this.actionOverflowBtn.getAttribute("class"),n=this.switchOrientationCSS(n),this.actionOverflowBtn.setAttribute("class",n),n=this.actionOverflowBtn.icon.getAttribute("class"),n=this.switchOrientationCSS(n),this.actionOverflowBtn.icon.setAttribute("class",n)),this.tabOverflowBtn&&(this.tabOverflowBtn.style.width=bb.actionBar.getTabOverflowBtnWidth(this.tabOverflowBtn)-1+"px",this.tabOverflowBtn.normal=this.switchOrientationCSS(this.tabOverflowBtn.normal),this.tabOverflowBtn.highlight=this.switchOrientationCSS(this.tabOverflowBtn.highlight),n=this.tabOverflowBtn.getAttribute("class"),n=this.switchOrientationCSS(n),this.tabOverflowBtn.setAttribute("class",n),n=this.tabOverflowBtn.tabHighlight.getAttribute("class"),n=this.switchOrientationCSS(n),this.tabOverflowBtn.tabHighlight.setAttribute("class",n),n=this.tabOverflowBtn.display.getAttribute("class"),n=this.switchOrientationCSS(n),this.tabOverflowBtn.display.setAttribute("class",n),this.tabOverflowBtn.icon.normal=this.switchOrientationCSS(this.tabOverflowBtn.icon.normal),n=this.tabOverflowBtn.icon.getAttribute("class"),n=this.switchOrientationCSS(n),this.tabOverflowBtn.icon.setAttribute("class",n))},e.reLayoutActionBar=e.reLayoutActionBar.bind(e),window.addEventListener("orientationchange",e.reLayoutActionBar,!1),bb.windowListeners.push({name:"orientationchange",eventHandler:e.reLayoutActionBar}),e.setBackCaption=function(e){this.setAttribute("data-bb-back-caption",e),w.innerHTML=e},e.setBackCaption=e.setBackCaption.bind(e),e.setSelectedTab=function(e){"tab"==e.getAttribute("data-bb-style")&&(bb.actionBar.highlightAction(e),e.onclick&&e.onclick())},e.setSelectedTab=e.setSelectedTab.bind(e),e.hide=function(){this.isVisible&&(this.style.display="none",bb.screen.currentScreen.outerScrollArea.style.bottom="0px",this.isVisible=!1,bb.scroller&&bb.scroller.refresh())},e.hide=e.hide.bind(e),e.show=function(){this.isVisible||(this.style.display="",bb.screen.currentScreen.outerScrollArea.style.bottom=bb.screen.getActionBarHeight()+"px",this.isVisible=!0,bb.scroller&&bb.scroller.refresh())},e.show=e.show.bind(e),h.length>0){var C;for(s=0;u.length>s;s++)i=u[s],"overflow"!=i.getAttribute("data-bb-img")&&(C=i.cloneNode(!0),C.visibleTab=i,C.res=m,C.actionBar=e,e.tabOverflowMenu.add(C));for(s=0;h.length>s;s++)i=h[s],i.res=m,i.actionBar=e,e.tabOverflowMenu.add(i)}for(s=0;d.length>s;s++)i=d[s],i.res=m,e.menu.add(i);var E;for(s=0;u.length>s;s++)E=u[s],E.res=m,n=E.innerHTML,E.actionBar=e,E.visible=!0,E.innerHTML="",E.normal="bb-bb10-action-bar-action-"+m+" bb-bb10-action-bar-action-"+g+"-"+m+" bb-bb10-action-bar-tab-dark bb-bb10-action-bar-tab-normal-dark",E.highlight=E.normal+" bb-bb10-action-bar-tab-selected-dark",E.setAttribute("class",E.normal),E.visible=!0,E.hasAttribute("data-bb-visible")&&"false"==E.getAttribute("data-bb-visible").toLowerCase()&&(E.visible=!1),a=document.createElement("img"),a.setAttribute("class","bb-bb10-action-bar-icon-"+m),a.setAttribute("src",E.getAttribute("data-bb-img")),E.icon=a,E.appendChild(a),o=document.createElement("div"),o.setAttribute("class","bb-bb10-action-bar-action-display-"+m+" bb-bb10-action-bar-action-display-"+g+"-"+m),o.innerHTML=n,E.display=o,E.appendChild(o),E.hasAttribute("data-bb-selected")&&"true"==E.getAttribute("data-bb-selected").toLowerCase()&&bb.actionBar.highlightAction(E),E.addEventListener("click",function(){bb.actionBar.highlightAction(this)},!1),E.setCaption=function(e){if(this.display.innerHTML=e,this.actionBar.tabOverflowMenu){var t,i,n=this.actionBar.tabOverflowMenu.actions;for(t=0;n.length>t;t++)i=n[t],i.visibleTab==this&&i.setCaption(e)}},E.setCaption=E.setCaption.bind(E),E.getCaption=function(){return this.display.innerHTML},E.getCaption=E.getCaption.bind(E),E.setImage=function(e){if(this.icon.setAttribute("src",e),this.actionBar.tabOverflowMenu){var t,i,n=this.actionBar.tabOverflowMenu.actions;for(t=0;n.length>t;t++)i=n[t],i.visibleTab==this&&i.setImage(e)}},E.setImage=E.setImage.bind(E),E.getImage=function(){return this.icon.getAttribute("src")},E.getImage=E.getImage.bind(E),E.hide=bb.actionBar.actionHide,E.hide=E.hide.bind(E),E.show=bb.actionBar.actionShow,E.show=E.show.bind(E),E.ontouchstart=function(){this.actionBar.showLabel(this,this.display.innerHTML)},E.ontouchend=function(){this.actionBar.doTouchEnd()};var T;e.tabOverflowBtn&&(T=e.tabOverflowBtn,T.res=m,n=T.innerHTML,T.actionBar=e,T.visible=!0,T.innerHTML="",T.normal="bb-bb10-action-bar-action-"+m+" bb-bb10-action-bar-action-"+g+"-"+m+" bb-bb10-action-bar-tab-dark bb-bb10-action-bar-tab-normal-dark",T.highlight=T.normal+" bb-bb10-action-bar-tab-selected-dark",T.setAttribute("class",T.normal),a=document.createElement("img"),a.setAttribute("class","bb-bb10-action-bar-icon-"+m),a.setAttribute("src",bb.transparentPixel),a.normal="bb-bb10-action-bar-icon-"+m+" bb-bb10-action-bar-tab-overflow-"+m+"-dark bb-bb10-action-bar-tab-overflow-"+g+"-"+m,a.highlight="bb-bb10-action-bar-icon-"+m,a.setAttribute("class",a.normal),T.appendChild(a),o=document.createElement("div"),o.setAttribute("class","bb-bb10-action-bar-action-display-"+m+" bb-bb10-action-bar-action-display-"+g+"-"+m),o.innerHTML=n,T.display=o,T.appendChild(o),T.icon=a,o.innerHTML="&nbsp;",T.display=o,T.tabHighlight=document.createElement("div"),T.tabHighlight.setAttribute("class","bb-bb10-action-bar-tab-overflow-"+m+"-dark bb-bb10-action-bar-tab-overflow-highlight-"+m+" bb-bb10-action-bar-tab-overflow-highlight-"+g+"-"+m),T.appendChild(T.tabHighlight),T.style.width=bb.actionBar.getTabOverflowBtnWidth(T)-1+"px",T.reset=function(){this.icon.setAttribute("src",bb.transparentPixel),this.icon.setAttribute("class",this.icon.normal),this.tabHighlight.style.display="none",this.display.innerHTML="&nbsp;"},T.reset=T.reset.bind(T),T.ontouchstart=function(){var e=""==this.display.innerHTML||"&nbsp;"==this.display.innerHTML?"More":this.display.innerHTML;this.actionBar.showLabel(this,e)},T.ontouchend=function(){this.actionBar.doTouchEnd()});var _;for(s=0;c.length>s;s++)_=c[s],_.res=m,_.actionBar=e,n=_.innerHTML,a=document.createElement("img"),a.setAttribute("src",_.getAttribute("data-bb-img")),a.setAttribute("class","bb-bb10-action-bar-icon-"+m),_.normal="bb-bb10-action-bar-action-"+m+" bb-bb10-action-bar-action-"+g+"-"+m+" bb-bb10-action-bar-button-dark",_.visible=!0,_.hasAttribute("data-bb-visible")&&"false"==_.getAttribute("data-bb-visible").toLowerCase()&&(_.visible=!1),_.icon=a,_.innerHTML="",_.setAttribute("class",_.normal),_.appendChild(a),o=document.createElement("div"),o.setAttribute("class","bb-bb10-action-bar-action-display-"+m),o.innerHTML=n,_.display=o,_.appendChild(o),_.highlight=document.createElement("div"),_.highlight.setAttribute("class","bb-bb10-action-bar-action-highlight"),_.highlight.style.height=bb.device.is1024x600?"4px":"8px",_.highlight.style["background-color"]="transparent",_.appendChild(_.highlight),_.setCaption=function(e){this.display.innerHTML=e},_.setCaption=_.setCaption.bind(_),_.getCaption=function(){return this.display.innerHTML},_.getCaption=_.getCaption.bind(_),_.setImage=function(e){this.icon.setAttribute("src",e)},_.setImage=_.setImage.bind(_),_.getImage=function(){return this.icon.getAttribute("src")},_.getImage=_.getImage.bind(_),_.hide=bb.actionBar.actionHide,_.hide=_.hide.bind(_),_.show=bb.actionBar.actionShow,_.show=_.show.bind(_),_.ontouchstart=function(){this.highlight.style["background-color"]=bb.options.highlightColor,this.actionBar.showLabel(this,this.display.innerHTML)},_.ontouchend=function(){this.highlight.style["background-color"]="transparent",this.actionBar.doTouchEnd()};if(e.actionOverflowBtn){actionOverflow=e.actionOverflowBtn,actionOverflow.res=m,actionOverflow.actionBar=e,actionOverflow.visible=!0,n=actionOverflow.innerHTML,a=document.createElement("img"),a.setAttribute("src",bb.transparentPixel),a.setAttribute("class","bb-bb10-action-bar-icon-"+m+" bb-bb10-action-bar-overflow-button-"+m+"-dark bb-bb10-action-bar-overflow-button-"+g+"-"+m),actionOverflow.icon=a,actionOverflow.normal="bb-bb10-action-bar-action-"+m+" bb-bb10-action-bar-action-"+g+"-"+m+" bb-bb10-action-bar-button-dark",actionOverflow.innerHTML="",actionOverflow.setAttribute("class",actionOverflow.normal),actionOverflow.appendChild(a);var o=document.createElement("div");o.setAttribute("class","bb-bb10-action-bar-action-display-"+m),o.innerHTML=n,actionOverflow.display=o,actionOverflow.appendChild(o),actionOverflow.highlight=document.createElement("div"),actionOverflow.highlight.setAttribute("class","bb-bb10-action-bar-action-highlight"),actionOverflow.highlight.style.height=bb.device.is1024x600?"4px":"8px",actionOverflow.highlight.style["background-color"]="transparent",actionOverflow.appendChild(actionOverflow.highlight),actionOverflow.ontouchstart=function(){this.highlight.style["background-color"]=bb.options.highlightColor,this.actionBar.showLabel(this,"More")},actionOverflow.ontouchend=function(){this.highlight.style["background-color"]="transparent",this.actionBar.doTouchEnd()}}e.menu&&e.menu.centerMenuItems(),e.tabOverflowMenu&&(e.tabOverflowMenu.centerMenuItems(),e.tabOverflowMenu.initSelected()),e.reLayoutActionBar()},actionShow:function(){this.visible||(this.style.display="",this.visible=!0,this.actionBar.reLayoutActionBar())},actionHide:function(){this.visible&&(this.style.display="none",this.visible=!1,this.actionBar.reLayoutActionBar())},getTabOverflowBtnWidth:function(e){return e?bb.device.is1024x600?"portrait"==bb.getOrientation()?77:123:bb.device.is1280x768||bb.device.is1280x720?"portrait"==bb.getOrientation()?154:256:bb.device.is720x720?144:"portrait"==bb.getOrientation()?154:256:0},getActionOverflowBtnWidth:function(e){return e?bb.device.is1024x600?"portrait"==bb.getOrientation()?77:123:bb.device.is1280x768||bb.device.is1280x720?"portrait"==bb.getOrientation()?154:256:bb.device.is720x720?144:"portrait"==bb.getOrientation()?154:256:0},getBackBtnWidth:function(e){return e?bb.device.is1024x600?"portrait"==bb.getOrientation()?93:150:bb.device.is1280x768||bb.device.is1280x720?"portrait"==bb.getOrientation()?187:300:bb.device.is720x720?174:"portrait"==bb.getOrientation()?187:300:0},highlightAction:function(e,t){var i,n,o=e.actionBar.mainBarTabs;for(i=0;o.length>i;i++)n=o[i],n!=e&&bb.actionBar.unhighlightAction(n);if(e.actionBar.tabOverflowMenu){for(o=e.actionBar.tabOverflowMenu.actions,i=0;o.length>i;i++)n=o[i],n!=t&&bb.actionBar.unhighlightAction(n);e.actionBar.tabOverflowBtn.style["border-top-color"]="",e.actionBar.tabOverflowBtn.setAttribute("class",e.actionBar.tabOverflowBtn.normal)}if(e.style["border-top-color"]=bb.options.highlightColor,e.setAttribute("class",e.highlight),e.selected=!0,t&&(t.setAttribute("class",t.normal+" bb10Highlight"),t.selected=!0),e.actionBar.tabOverflowMenu&&!t)if(e.actionBar.tabOverflowBtn&&e==e.actionBar.tabOverflowBtn)t.setAttribute("class",t.normal+" bb10Highlight");else for(o=e.actionBar.tabOverflowMenu.actions,i=0;o.length>i;i++)n=o[i],n.visibleTab==e&&n.setAttribute("class",n.normal+" bb10Highlight");e.actionBar.tabOverflowBtn&&e.actionBar.tabOverflowBtn.reset&&e.actionBar.tabOverflowBtn.reset()},unhighlightAction:function(e){var t;if(e.style["border-top-color"]="",e.setAttribute("class",e.normal),e.actionBar&&e.actionBar.tabOverflowMenu)for(tabs=e.actionBar.tabOverflowMenu.actions,i=0;tabs.length>i;i++)t=tabs[i],t.setAttribute("class",t.normal),t.selected=!1}},_bb_bbmBubble={apply:function(e){for(var t=0;e.length>t;t++)bb.bbmBubble.style(e[t])},style:function(e){var t,i,n,o;if(e.styleItem=function(t){return i=document.createElement("img"),i.setAttribute("src",t.getAttribute("data-bb-img")),o=document.createElement("div"),o.setAttribute("class","details"),o.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(i),t.appendChild(o),t.image=i,t.details=o,t.outerElement=e,t.getCaption=function(){return this.details.innerText},t.getCaption=t.getCaption.bind(t),t.setCaption=function(e){this.details.innerHTML=e,bb.refresh()
},t.setCaption=t.setCaption.bind(t),t.getImage=function(){return this.image.src},t.getImage=t.getImage.bind(t),t.setImage=function(e){this.image.setAttribute("src",e),bb.refresh()},t.setImage=t.setImage.bind(t),t.remove=function(){this.outerHTML="",bb.refresh()},t.remove=t.remove.bind(t),t},e.styleItem=e.styleItem.bind(e),e.hasAttribute("data-bb-style")){var r,b=e.getAttribute("data-bb-style").toLowerCase();"left"==b?e.setAttribute("class","bb-bbm-bubble-left"):e.setAttribute("class","bb-bbm-bubble-right");var a=e.querySelectorAll("[data-bb-type=item]");for(r=0;r>a.length;r++)e.removeChild(a[r]);for(t=document.createElement("div"),t.setAttribute("class","top-left image"),e.appendChild(t),t=document.createElement("div"),t.setAttribute("class","top-right image"),e.appendChild(t),t=document.createElement("div"),t.setAttribute("class","inside"),e.appendChild(t),insidePanel=document.createElement("div"),insidePanel.setAttribute("class","nogap"),t.appendChild(insidePanel),e.insidePanel=insidePanel,t=document.createElement("div"),t.setAttribute("class","bottom-left image"),e.appendChild(t),t=document.createElement("div"),t.setAttribute("class","bottom-right image"),e.appendChild(t),r=0;a.length>r;r++)n=a[r],insidePanel.appendChild(e.styleItem(n))}return e.getStyle=function(){return this.getAttribute("data-bb-style")},e.getStyle=e.getStyle.bind(e),e.setStyle=function(e){"left"==e?(this.setAttribute("data-bb-style",e),this.setAttribute("class","bb-bbm-bubble-left")):"right"==e&&(this.setAttribute("data-bb-style",e),this.setAttribute("class","bb-bbm-bubble-right")),bb.refresh()},e.setStyle=e.setStyle.bind(e),e.show=function(){this.style.display="block",bb.refresh()},e.show=e.show.bind(e),e.hide=function(){this.style.display="none",bb.refresh()},e.hide=e.hide.bind(e),e.remove=function(){this.parentNode.removeChild(this),bb.refresh()},e.remove=e.remove.bind(e),e.clear=function(){this.insidePanel.innerHTML="",bb.refresh()},e.clear=e.clear.bind(e),e.getItems=function(){return this.querySelectorAll("[data-bb-type=item]")},e.getItems=e.getItems.bind(e),e}},function(){var e=Math,t=function(e){return e>>0},i=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":"",n=/android/gi.test(navigator.appVersion),o=/iphone|ipad/gi.test(navigator.appVersion),r=/playbook/gi.test(navigator.appVersion),b=/hp-tablet/gi.test(navigator.appVersion),a="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,s="ontouchstart"in window&&!b,l=i+"Transform"in document.documentElement.style,c=o||r,d=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),u=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),h="onorientationchange"in window?"orientationchange":"resize",p=s?"touchstart":"mousedown",m=s?"touchmove":"mousemove",g=s?"touchend":"mouseup",v=s?"touchcancel":"mouseup",f="Moz"==i?"DOMMouseScroll":"mousewheel",y="translate"+(a?"3d(":"("),w=a?",0)":")",B=function(e,t){var r,b=this,d=document;b.wrapper="object"==typeof e?e:d.getElementById(e),b.wrapper.style.overflow="hidden",b.scroller=b.wrapper.children[0],b.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:n,hideScrollbar:o,fadeScrollbar:o&&a,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(r in t)b.options[r]=t[r];b.x=b.options.x,b.y=b.options.y,b.options.useTransform=l?b.options.useTransform:!1,b.options.hScrollbar=b.options.hScroll&&b.options.hScrollbar,b.options.vScrollbar=b.options.vScroll&&b.options.vScrollbar,b.options.zoom=b.options.useTransform&&b.options.zoom,b.options.useTransition=c&&b.options.useTransition,b.options.zoom&&n&&(y="translate(",w=")"),b.scroller.style[i+"TransitionProperty"]=b.options.useTransform?"-"+i.toLowerCase()+"-transform":"top left",b.scroller.style[i+"TransitionDuration"]="0",b.scroller.style[i+"TransformOrigin"]="0 0",b.options.useTransition&&(b.scroller.style[i+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),b.options.useTransform?b.scroller.style[i+"Transform"]=y+b.x+"px,"+b.y+"px"+w:b.scroller.style.cssText+=";position:absolute;top:"+b.y+"px;left:"+b.x+"px",b.options.useTransition&&(b.options.fixedScrollbar=!0),b.refresh(),b._bind(h,window),b._bind(p),s||(b._bind("mouseout",b.wrapper),"none"!=b.options.wheelAction&&b._bind(f)),b.options.checkDOMChanges&&(b.checkDOMTime=setInterval(function(){b._checkDOMChanges()},500))};B.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case p:if(!s&&0!==e.button)return;t._start(e);break;case m:t._move(e);break;case g:case v:t._end(e);break;case h:t._resize();break;case f:t._wheel(e);break;case"mouseout":t._mouseout(e);break;case"webkitTransitionEnd":t._transitionEnd(e)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(n){var o,r=this,b=document;return r[n+"Scrollbar"]?(r[n+"ScrollbarWrapper"]||(o=b.createElement("div"),r.options.scrollbarClass?o.className=r.options.scrollbarClass+n.toUpperCase():o.style.cssText="position:absolute;z-index:100;"+("h"==n?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px"),o.style.cssText+=";pointer-events:none;-"+i+"-transition-property:opacity;-"+i+"-transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1"),r.wrapper.appendChild(o),r[n+"ScrollbarWrapper"]=o,o=b.createElement("div"),r.options.scrollbarClass||(o.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.9);-"+i+"-background-clip:padding-box;-"+i+"-box-sizing:border-box;"+("h"==n?"height:100%":"width:100%")+";-"+i+"-border-radius:3px;border-radius:3px"),o.style.cssText+=";pointer-events:none;-"+i+"-transition-property:-"+i+"-transform;-"+i+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+i+"-transition-duration:0;-"+i+"-transform:"+y+"0,0"+w,r.options.useTransition&&(o.style.cssText+=";-"+i+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),r[n+"ScrollbarWrapper"].appendChild(o),r[n+"ScrollbarIndicator"]=o),"h"==n?(r.hScrollbarSize=r.hScrollbarWrapper.clientWidth,r.hScrollbarIndicatorSize=e.max(t(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8),r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px",r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize,r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX):(r.vScrollbarSize=r.vScrollbarWrapper.clientHeight,r.vScrollbarIndicatorSize=e.max(t(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8),r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px",r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize,r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY),r._scrollbarPos(n,!0),void 0):(r[n+"ScrollbarWrapper"]&&(l&&(r[n+"ScrollbarIndicator"].style[i+"Transform"]=""),r[n+"ScrollbarWrapper"].parentNode.removeChild(r[n+"ScrollbarWrapper"]),r[n+"ScrollbarWrapper"]=null,r[n+"ScrollbarIndicator"]=null),void 0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},n?200:0)},_pos:function(e,n){e=this.hScroll?e:0,n=this.vScroll?n:0,this.options.useTransform?this.scroller.style[i+"Transform"]=y+e+"px,"+n+"px"+w+" scale("+this.scale+")":(e=t(e),n=t(n),this.scroller.style.left=e+"px",this.scroller.style.top=n+"px"),this.x=e,this.y=n,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(e,n){var o,r=this,b="h"==e?r.x:r.y;r[e+"Scrollbar"]&&(b=r[e+"ScrollbarProp"]*b,0>b?(r.options.fixedScrollbar||(o=r[e+"ScrollbarIndicatorSize"]+t(3*b),8>o&&(o=8),r[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=o+"px"),b=0):b>r[e+"ScrollbarMaxScroll"]&&(r.options.fixedScrollbar?b=r[e+"ScrollbarMaxScroll"]:(o=r[e+"ScrollbarIndicatorSize"]-t(3*(b-r[e+"ScrollbarMaxScroll"])),8>o&&(o=8),r[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=o+"px",b=r[e+"ScrollbarMaxScroll"]+(r[e+"ScrollbarIndicatorSize"]-o))),r[e+"ScrollbarWrapper"].style[i+"TransitionDelay"]="0",r[e+"ScrollbarWrapper"].style.opacity=n&&r.options.hideScrollbar?"0":"1",r[e+"ScrollbarIndicator"].style[i+"Transform"]=y+("h"==e?b+"px,0":"0,"+b+"px")+w)},_start:function(t){var n,o,r,b,a,l=this,c=s?t.touches[0]:t;l.enabled&&(l.options.onBeforeScrollStart&&l.options.onBeforeScrollStart.call(l,t),(l.options.useTransition||l.options.zoom)&&l._transitionTime(0),l.moved=!1,l.animating=!1,l.zoomed=!1,l.distX=0,l.distY=0,l.absDistX=0,l.absDistY=0,l.dirX=0,l.dirY=0,l.options.zoom&&s&&t.touches.length>1&&(b=e.abs(t.touches[0].pageX-t.touches[1].pageX),a=e.abs(t.touches[0].pageY-t.touches[1].pageY),l.touchesDistStart=e.sqrt(b*b+a*a),l.originX=e.abs(t.touches[0].pageX+t.touches[1].pageX-2*l.wrapperOffsetLeft)/2-l.x,l.originY=e.abs(t.touches[0].pageY+t.touches[1].pageY-2*l.wrapperOffsetTop)/2-l.y,l.options.onZoomStart&&l.options.onZoomStart.call(l,t)),l.options.momentum&&(l.options.useTransform?(n=getComputedStyle(l.scroller,null)[i+"Transform"].replace(/[^0-9-.,]/g,"").split(","),o=1*n[4],r=1*n[5]):(o=1*getComputedStyle(l.scroller,null).left.replace(/[^0-9-]/g,""),r=1*getComputedStyle(l.scroller,null).top.replace(/[^0-9-]/g,"")),(o!=l.x||r!=l.y)&&(l.options.useTransition?l._unbind("webkitTransitionEnd"):u(l.aniTime),l.steps=[],l._pos(o,r))),l.absStartX=l.x,l.absStartY=l.y,l.startX=l.x,l.startY=l.y,l.pointX=c.pageX,l.pointY=c.pageY,l.startTime=t.timeStamp||Date.now(),l.options.onScrollStart&&l.options.onScrollStart.call(l,t),l._bind(m),l._bind(g),l._bind(v))},_move:function(t){var n,o,r,b=this,a=s?t.touches[0]:t,l=a.pageX-b.pointX,c=a.pageY-b.pointY,d=b.x+l,u=b.y+c,h=t.timeStamp||Date.now();return b.options.onBeforeScrollMove&&b.options.onBeforeScrollMove.call(b,t),b.options.zoom&&s&&t.touches.length>1?(n=e.abs(t.touches[0].pageX-t.touches[1].pageX),o=e.abs(t.touches[0].pageY-t.touches[1].pageY),b.touchesDist=e.sqrt(n*n+o*o),b.zoomed=!0,r=1/b.touchesDistStart*b.touchesDist*this.scale,b.options.zoomMin>r?r=.5*b.options.zoomMin*Math.pow(2,r/b.options.zoomMin):r>b.options.zoomMax&&(r=2*b.options.zoomMax*Math.pow(.5,b.options.zoomMax/r)),b.lastScale=r/this.scale,d=this.originX-this.originX*b.lastScale+this.x,u=this.originY-this.originY*b.lastScale+this.y,this.scroller.style[i+"Transform"]=y+d+"px,"+u+"px"+w+" scale("+r+")",b.options.onZoom&&b.options.onZoom.call(b,t),void 0):(b.pointX=a.pageX,b.pointY=a.pageY,(d>0||b.maxScrollX>d)&&(d=b.options.bounce?b.x+l/2:d>=0||b.maxScrollX>=0?0:b.maxScrollX),(u>b.minScrollY||b.maxScrollY>u)&&(u=b.options.bounce?b.y+c/2:u>=b.minScrollY||b.maxScrollY>=0?b.minScrollY:b.maxScrollY),b.distX+=l,b.distY+=c,b.absDistX=e.abs(b.distX),b.absDistY=e.abs(b.distY),6>b.absDistX&&6>b.absDistY||(b.options.lockDirection&&(b.absDistX>b.absDistY+5?(u=b.y,c=0):b.absDistY>b.absDistX+5&&(d=b.x,l=0)),b.moved=!0,b._pos(d,u),b.dirX=l>0?-1:0>l?1:0,b.dirY=c>0?-1:0>c?1:0,h-b.startTime>300&&(b.startTime=h,b.startX=b.x,b.startY=b.y),b.options.onScrollMove&&b.options.onScrollMove.call(b,t)),void 0)},_end:function(n){if(!s||0==n.touches.length){var o,r,b,a,l,c,d,u=this,h=s?n.changedTouches[0]:n,p={dist:0,time:0},f={dist:0,time:0},B=(n.timeStamp||Date.now())-u.startTime,A=u.x,x=u.y;if(u._unbind(m),u._unbind(g),u._unbind(v),u.options.onBeforeScrollEnd&&u.options.onBeforeScrollEnd.call(u,n),u.zoomed)return d=u.scale*u.lastScale,d=Math.max(u.options.zoomMin,d),d=Math.min(u.options.zoomMax,d),u.lastScale=d/u.scale,u.scale=d,u.x=u.originX-u.originX*u.lastScale+u.x,u.y=u.originY-u.originY*u.lastScale+u.y,u.scroller.style[i+"TransitionDuration"]="200ms",u.scroller.style[i+"Transform"]=y+u.x+"px,"+u.y+"px"+w+" scale("+u.scale+")",u.zoomed=!1,u.refresh(),u.options.onZoomEnd&&u.options.onZoomEnd.call(u,n),void 0;if(!u.moved)return s&&(u.doubleTapTimer&&u.options.zoom?(clearTimeout(u.doubleTapTimer),u.doubleTapTimer=null,u.options.onZoomStart&&u.options.onZoomStart.call(u,n),u.zoom(u.pointX,u.pointY,1==u.scale?u.options.doubleTapZoom:1),u.options.onZoomEnd&&setTimeout(function(){u.options.onZoomEnd.call(u,n)},200)):u.doubleTapTimer=setTimeout(function(){for(u.doubleTapTimer=null,o=h.target;1!=o.nodeType;)o=o.parentNode;"SELECT"!=o.tagName&&"INPUT"!=o.tagName&&"TEXTAREA"!=o.tagName&&(r=document.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,h.screenX,h.screenY,h.clientX,h.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._fake=!0,o.dispatchEvent(r))},u.options.zoom?250:0)),u._resetPos(200),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n),void 0;if(300>B&&u.options.momentum&&(p=A?u._momentum(A-u.startX,B,-u.x,u.scrollerW-u.wrapperW+u.x,u.options.bounce?u.wrapperW:0):p,f=x?u._momentum(x-u.startY,B,-u.y,0>u.maxScrollY?u.scrollerH-u.wrapperH+u.y-u.minScrollY:0,u.options.bounce?u.wrapperH:0):f,A=u.x+p.dist,x=u.y+f.dist,(u.x>0&&A>0||u.x<u.maxScrollX&&u.maxScrollX>A)&&(p={dist:0,time:0}),(u.y>u.minScrollY&&x>u.minScrollY||u.y<u.maxScrollY&&u.maxScrollY>x)&&(f={dist:0,time:0})),p.dist||f.dist)return l=e.max(e.max(p.time,f.time),10),u.options.snap&&(b=A-u.absStartX,a=x-u.absStartY,e.abs(b)<u.options.snapThreshold&&e.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(c=u._snap(A,x),A=c.x,x=c.y,l=e.max(c.time,l))),u.scrollTo(t(A),t(x),l),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n),void 0;if(u.options.snap)return b=A-u.absStartX,a=x-u.absStartY,e.abs(b)<u.options.snapThreshold&&e.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(c=u._snap(u.x,u.y),(c.x!=u.x||c.y!=u.y)&&u.scrollTo(c.x,c.y,c.time)),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n),void 0;u._resetPos(200),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n)}},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,o=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;return n==t.x&&o==t.y?(t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==i&&(t.hScrollbarWrapper.style[i+"TransitionDelay"]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&("webkit"==i&&(t.vScrollbarWrapper.style[i+"TransitionDelay"]="300ms"),t.vScrollbarWrapper.style.opacity="0"),void 0):(t.scrollTo(n,o,e||0),void 0)},_wheel:function(e){var t,i,n,o,r,b=this;if("wheelDeltaX"in e)t=e.wheelDeltaX/12,i=e.wheelDeltaY/12;else if("wheelDelta"in e)t=i=e.wheelDelta/12;else{if(!("detail"in e))return;t=i=3*-e.detail}return"zoom"==b.options.wheelAction?(r=b.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),b.options.zoomMin>r&&(r=b.options.zoomMin),r>b.options.zoomMax&&(r=b.options.zoomMax),r!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&b.options.onZoomStart.call(b,e),b.wheelZoomCount++,b.zoom(e.pageX,e.pageY,r,400),setTimeout(function(){b.wheelZoomCount--,!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,e)},400)),void 0):(n=b.x+t,o=b.y+i,n>0?n=0:b.maxScrollX>n&&(n=b.maxScrollX),o>b.minScrollY?o=b.minScrollY:b.maxScrollY>o&&(o=b.maxScrollY),b.scrollTo(n,o,0),void 0)},_mouseout:function(e){var t=e.relatedTarget;if(!t)return this._end(e),void 0;for(;t=t.parentNode;)if(t==this.wrapper)return;this._end(e)},_transitionEnd:function(e){var t=this;e.target==t.scroller&&(t._unbind("webkitTransitionEnd"),t._startAni())},_startAni:function(){var t,i,n,o=this,r=o.x,b=o.y,a=Date.now();if(!o.animating){if(!o.steps.length)return o._resetPos(400),void 0;if(t=o.steps.shift(),t.x==r&&t.y==b&&(t.time=0),o.animating=!0,o.moved=!0,o.options.useTransition)return o._transitionTime(t.time),o._pos(t.x,t.y),o.animating=!1,t.time?o._bind("webkitTransitionEnd"):o._resetPos(0),void 0;n=function(){var s,l,c=Date.now();return c>=a+t.time?(o._pos(t.x,t.y),o.animating=!1,o.options.onAnimationEnd&&o.options.onAnimationEnd.call(o),o._startAni(),void 0):(c=(c-a)/t.time-1,i=e.sqrt(1-c*c),s=(t.x-r)*i+r,l=(t.y-b)*i+b,o._pos(s,l),o.animating&&(o.aniTime=d(n)),void 0)},n()}},_transitionTime:function(e){e+="ms",this.scroller.style[i+"TransitionDuration"]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[i+"TransitionDuration"]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[i+"TransitionDuration"]=e)},_momentum:function(i,n,o,r,b){var a=6e-4,s=e.abs(i)/n,l=s*s/(2*a),c=0,d=0;return i>0&&l>o?(d=b/(6/(l/s*a)),o+=d,s=s*o/l,l=o):0>i&&l>r&&(d=b/(6/(l/s*a)),r+=d,s=s*r/l,l=r),l*=0>i?-1:1,c=s/a,{dist:l,time:t(c)}},_offset:function(e){for(var t=-e.offsetLeft,i=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,i-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,i*=this.scale),{left:t,top:i}},_snap:function(i,n){var o,r,b,a,s,l,c=this;for(b=c.pagesX.length-1,o=0,r=c.pagesX.length;r>o;o++)if(i>=c.pagesX[o]){b=o;break}for(b==c.currPageX&&b>0&&0>c.dirX&&b--,i=c.pagesX[b],s=e.abs(i-c.pagesX[c.currPageX]),s=s?500*(e.abs(c.x-i)/s):0,c.currPageX=b,b=c.pagesY.length-1,o=0;b>o;o++)if(n>=c.pagesY[o]){b=o;break}return b==c.currPageY&&b>0&&0>c.dirY&&b--,n=c.pagesY[b],l=e.abs(n-c.pagesY[c.currPageY]),l=l?500*(e.abs(c.y-n)/l):0,c.currPageY=b,a=t(e.max(s,l))||200,{x:i,y:n,time:a}},_bind:function(e,t,i){(t||this.scroller).addEventListener(e,this,!!i)},_unbind:function(e,t,i){(t||this.scroller).removeEventListener(e,this,!!i)},destroy:function(){var e=this;e.scroller.style[i+"Transform"]="",e.hScrollbar=!1,e.vScrollbar=!1,e._scrollbar("h"),e._scrollbar("v"),e._unbind(h,window),e._unbind(p),e._unbind(m),e._unbind(g),e._unbind(v),e.options.hasTouch||(e._unbind("mouseout",e.wrapper),e._unbind(f)),e.options.useTransition&&e._unbind("webkitTransitionEnd"),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var e,n,o,r,b=this,a=0,s=0;if(b.scale<b.options.zoomMin&&(b.scale=b.options.zoomMin),b.wrapperW=b.wrapper.clientWidth||1,b.wrapperH=b.wrapper.clientHeight||1,b.minScrollY=-b.options.topOffset||0,b.scrollerW=t(b.scroller.offsetWidth*b.scale),b.scrollerH=t((b.scroller.offsetHeight+b.minScrollY)*b.scale),b.maxScrollX=b.wrapperW-b.scrollerW,b.maxScrollY=b.wrapperH-b.scrollerH+b.minScrollY,b.dirX=0,b.dirY=0,b.options.onRefresh&&b.options.onRefresh.call(b),b.hScroll=b.options.hScroll&&0>b.maxScrollX,b.vScroll=b.options.vScroll&&(!b.options.bounceLock&&!b.hScroll||b.scrollerH>b.wrapperH),b.hScrollbar=b.hScroll&&b.options.hScrollbar,b.vScrollbar=b.vScroll&&b.options.vScrollbar&&b.scrollerH>b.wrapperH,e=b._offset(b.wrapper),b.wrapperOffsetLeft=-e.left,b.wrapperOffsetTop=-e.top,"string"==typeof b.options.snap)for(b.pagesX=[],b.pagesY=[],r=b.scroller.querySelectorAll(b.options.snap),n=0,o=r.length;o>n;n++)a=b._offset(r[n]),a.left+=b.wrapperOffsetLeft,a.top+=b.wrapperOffsetTop,b.pagesX[n]=a.left<b.maxScrollX?b.maxScrollX:a.left*b.scale,b.pagesY[n]=a.top<b.maxScrollY?b.maxScrollY:a.top*b.scale;else if(b.options.snap){for(b.pagesX=[];a>=b.maxScrollX;)b.pagesX[s]=a,a-=b.wrapperW,s++;for(b.maxScrollX%b.wrapperW&&(b.pagesX[b.pagesX.length]=b.maxScrollX-b.pagesX[b.pagesX.length-1]+b.pagesX[b.pagesX.length-1]),a=0,s=0,b.pagesY=[];a>=b.maxScrollY;)b.pagesY[s]=a,a-=b.wrapperH,s++;b.maxScrollY%b.wrapperH&&(b.pagesY[b.pagesY.length]=b.maxScrollY-b.pagesY[b.pagesY.length-1]+b.pagesY[b.pagesY.length-1])}b._scrollbar("h"),b._scrollbar("v"),b.zoomed||(b.scroller.style[i+"TransitionDuration"]="0",b._resetPos(200))},scrollTo:function(e,t,i,n){var o,r,b=this,a=e;for(b.stop(),a.length||(a=[{x:e,y:t,time:i,relative:n}]),o=0,r=a.length;r>o;o++)a[o].relative&&(a[o].x=b.x-a[o].x,a[o].y=b.y-a[o].y),b.steps.push({x:a[o].x,y:a[o].y,time:a[o].time||0});b._startAni()},scrollToElement:function(t,i){var n,o=this;t=t.nodeType?t:o.scroller.querySelector(t),t&&(n=o._offset(t),n.left+=o.wrapperOffsetLeft,n.top+=o.wrapperOffsetTop,n.left=n.left>0?0:n.left<o.maxScrollX?o.maxScrollX:n.left,n.top=n.top>o.minScrollY?o.minScrollY:n.top<o.maxScrollY?o.maxScrollY:n.top,i=void 0===i?e.max(2*e.abs(n.left),2*e.abs(n.top)):i,o.scrollTo(n.left,n.top,i))},scrollToPage:function(e,t,i){var n,o,r=this;i=void 0===i?400:i,r.options.onScrollStart&&r.options.onScrollStart.call(r),r.options.snap?(e="next"==e?r.currPageX+1:"prev"==e?r.currPageX-1:e,t="next"==t?r.currPageY+1:"prev"==t?r.currPageY-1:t,e=0>e?0:e>r.pagesX.length-1?r.pagesX.length-1:e,t=0>t?0:t>r.pagesY.length-1?r.pagesY.length-1:t,r.currPageX=e,r.currPageY=t,n=r.pagesX[e],o=r.pagesY[t]):(n=-r.wrapperW*e,o=-r.wrapperH*t,r.maxScrollX>n&&(n=r.maxScrollX),r.maxScrollY>o&&(o=r.maxScrollY)),r.scrollTo(n,o,i)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(m),this._unbind(g),this._unbind(v)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):u(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,n,o){var r=this,b=n/r.scale;r.options.useTransform&&(r.zoomed=!0,o=void 0===o?200:o,e=e-r.wrapperOffsetLeft-r.x,t=t-r.wrapperOffsetTop-r.y,r.x=e-e*b+r.x,r.y=t-t*b+r.y,r.scale=n,r.refresh(),r.x=r.x>0?0:r.x<r.maxScrollX?r.maxScrollX:r.x,r.y=r.y>r.minScrollY?r.minScrollY:r.y<r.maxScrollY?r.maxScrollY:r.y,r.scroller.style[i+"TransitionDuration"]=o+"ms",r.scroller.style[i+"Transform"]=y+r.x+"px,"+r.y+"px"+w+" scale("+n+")",r.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},"undefined"!=typeof exports?exports.iScroll=B:window.iScroll=B}(),bb.menuBar={height:140,itemWidth:143,visible:!1,menu:!1,screen:!1,apply:function(e,t){bb.device.isPlayBook||bb.device.isBB10?(bb.menuBar.createSwipeMenu(e,t),e.parentNode.removeChild(e),window.blackberry&&(bb.device.isPlayBook&&blackberry.app.event?blackberry.app.event.onSwipeDown(bb.menuBar.showMenuBar):bb.device.isBB10&&blackberry.app&&blackberry.event.addEventListener("swipedown",bb.menuBar.showMenuBar))):window.blackberry&&blackberry.ui.menu?(bb.menuBar.createBlackberryMenu(e),e.parentNode.removeChild(e)):console.log("Unable to create Blackberry/onSwipeDown menu.")},createBlackberryMenu:function(e){var t,i,n,o;t=e.getElementsByTagName("div");for(var r=0;t.length>r;r++)o=t[r],"menu-item"===o.getAttribute("data-bb-type")?(n=o.innerHTML,n?(i=new blackberry.ui.menu.MenuItem(!1,r,n,o.onclick),blackberry.ui.menu.addMenuItem(i),o.hasAttribute("data-bb-selected")&&"true"===o.getAttribute("data-bb-selected")&&blackberry.ui.menu.setDefaultMenuItem(i)):console.log("can't add menu item without data-bb-caption")):"menu-separator"===o.getAttribute("data-bb-type")?(i=new blackberry.ui.menu.MenuItem(!0,r),blackberry.ui.menu.addMenuItem(i)):console.log("invalid menu item type")},createSwipeMenu:function(e,t){if(bb.device.isBB10){bb.menuBar.screen=t;var i,n,o,r,b,a,s,l,c,d,u,h=document.createElement("div"),p="1280x768-1280x720",m=5,g=!1,v=!1,f=[];if(bb.device.is1024x600?(p="1024x600",bb.menuBar.height=100,bb.menuBar.itemWidth=96):bb.device.is1280x768||bb.device.is1280x720?(p="1280x768-1280x720",bb.menuBar.height=140,bb.menuBar.itemWidth=143):bb.device.is720x720&&(p="720x720",bb.menuBar.height=110,bb.menuBar.itemWidth=143),h.oncontextmenu=function(e){var t=e.srcElement,i=t.parentNode;if(i)for(;i;){if(i==this){e.preventDefault();break}i=i.parentNode}},h.oncontextmenu=h.oncontextmenu.bind(h),window.addEventListener("contextmenu",h.oncontextmenu),bb.windowListeners.push({name:"contextmenu",eventHandler:h.oncontextmenu}),h.setAttribute("class","bb-bb10-menu-bar-"+p+" bb-bb10-menu-bar-dark"),y=e.querySelectorAll("[data-bb-type=menu-item]"),y.length>0){for(i=0,n=y.length;y.length>i;i++)r=y[i],o=r.hasAttribute("data-bb-type")?r.getAttribute("data-bb-type").toLowerCase():void 0,"menu-item"==o?(s=r.innerHTML,a=r.getAttribute("data-bb-img"),s&&a?r.hasAttribute("data-bb-pin")?(pinType=r.getAttribute("data-bb-pin").toLowerCase(),"left"!==pinType||g?"right"!==pinType||v?(console.log("Unknown value from menu-item data-bb-pin: "+pinType+" or value already defined."),f.push(r)):(v=r,m--):(g=r,m--)):f.push(r):console.log("missing menu item caption or image.")):console.log("invalid menu item type for bb10");for(f.length>=m&&(f=f.slice(0,m)),g&&f.unshift(g),v&&f.push(v),c=bb.menuBar.itemWidth+"px",d=Math.floor((window.innerWidth-bb.menuBar.itemWidth*f.length)/(f.length-1))+"px",i=0,n=f.length;n>i;i++)r=f[i],s=r.innerHTML,a=r.getAttribute("data-bb-img"),u=document.createElement("div"),u.setAttribute("class","bb-bb10-menu-bar-item-"+p),r.innerHTML="",b=document.createElement("img"),b.setAttribute("src",a),u.appendChild(b),l=document.createElement("div"),l.setAttribute("class","bb-bb10-menu-bar-item-caption-"+p),l.innerHTML=s,u.appendChild(l),u.onclick=r.onclick,u.style.width=c,i==f.length-1?(u.style.marginRight=0,u.style.float="right"):u.style.marginRight=d,h.appendChild(u),u.ontouchstart=function(){this.style["border-top-color"]=bb.options.highlightColor},u.ontouchend=function(){this.style["border-top-color"]="transparent"}}else h.style.display="none",bb.menuBar.menu=null;h.addEventListener("click",bb.menuBar.onMenuBarClicked,!1),t.parentNode.appendChild(h),bb.menuBar.menu=h,bb.menuBar.menu.style["z-index"]="-100",bb.menuBar.menu.style.display="none",bb.menuBar.menu.style.height=bb.menuBar.menu.height+"px",bb.menuBar.menu.doOrientationChange=function(){var e,t,i=bb.menuBar.menu.getElementsByClassName("bb-bb10-menu-bar-item-"+p),n=Math.floor((window.innerWidth-bb.menuBar.itemWidth*i.length)/(i.length-1))+"px";for(e=0,t=i.length;t>e;e++)e==i.length-1?(i[e].style.marginRight=0,i[e].style.float="right"):i[e].style.marginRight=n},bb.menuBar.menu.doOrientationChange=bb.menuBar.menu.doOrientationChange.bind(bb.menuBar),window.addEventListener("resize",bb.menuBar.menu.doOrientationChange,!1),bb.windowListeners.push({name:"resize",eventHandler:bb.menuBar.menu.doOrientationChange})}else{var y,w,B,r,b,A,l,x,k=document.createElement("div");if(bb.menuBar.height=100,k.setAttribute("class","pb-menu-bar"),y=e.getElementsByTagName("div"),y.length>0)for(w=document.createElement("ul"),k.appendChild(w),B=0;y.length>B;B++)r=y[B],"menu-item"===r.getAttribute("data-bb-type")?(A=r.innerHTML,iconPath=r.getAttribute("data-bb-img"),A&&iconPath&&(x=document.createElement("li"),r.innerHTML="",b=new Image,b.src=iconPath,x.appendChild(b),l=document.createElement("div"),l.setAttribute("class","pb-menu-bar-caption"),l.innerText=A,x.appendChild(l),x.onclick=r.onclick,w.appendChild(x))):"menu-separator"===r.getAttribute("data-bb-type")?(w=document.createElement("ul"),k.appendChild(w)):console.log("invalid menu item type");k.style["-webkit-transform"]="translate(0,0)",k.addEventListener("click",bb.menuBar.onMenuBarClicked,!1),document.body.appendChild(k),bb.menuBar.menu=k}bb.screen.overlay||(bb.screen.overlay=document.createElement("div"),bb.screen.overlay.setAttribute("class","bb-bb10-menu-bar-overlay")),t.appendChild(bb.screen.overlay),bb.menuBar.menu.overlay=bb.screen.overlay},doEndTransition:function(){bb.menuBar.visible?bb.menuBar.menu.style["z-index"]="":(bb.menuBar.menu.style.display="none",bb.menuBar.menu.style.height="0px",bb.menuBar.screen.removeEventListener("webkitTransitionEnd",bb.menuBar.doEndTransition),bb.menuBar.screen.style["-webkit-transition"]="",bb.menuBar.screen.style["-webkit-transform"]="",bb.menuBar.screen.style["-webkit-backface-visibility"]="")},setDimensions:function(){bb.menuBar.menu.style.display="",bb.menuBar.menu.style.height=bb.menuBar.height+"px",bb.menuBar.screen.parentNode.style.position="absolute",bb.menuBar.screen.parentNode.style.left="0px",bb.menuBar.screen.parentNode.style.top="0px",bb.menuBar.screen.parentNode.style.bottom="0px",bb.menuBar.screen.parentNode.style.right="0px",bb.menuBar.screen.parentNode.style.width="100%",bb.menuBar.screen.parentNode.style.overflow="hidden",bb.menuBar.menu.overlay.style.display="block",bb.menuBar.screen.style["-webkit-transition"]="0.2s ease-out",bb.menuBar.screen.style["-webkit-transform"]="translate3d(0px,"+bb.menuBar.height+"px,0px)",bb.menuBar.screen.style["-webkit-backface-visibility"]="hidden"},showMenuBar:function(){bb.menuBar.visible||(bb.menuBar.visible=!0,bb.device.isPlayBook?blackberry.app.event.onSwipeDown(bb.menuBar.hideMenuBar):bb.device.isBB10&&(blackberry.event.removeEventListener("swipedown",bb.menuBar.showMenuBar),blackberry.event.addEventListener("swipedown",bb.menuBar.hideMenuBar)),bb.device.isBB10?(bb.menuBar.screen.addEventListener("webkitTransitionEnd",bb.menuBar.doEndTransition),bb.menuBar.setDimensions()):bb.device.isPlayBook&&(bb.menuBar.menu.style["-webkit-transition"]="all 0.5s ease-in-out",bb.menuBar.menu.style["-webkit-transform"]="translate3d(0, "+(bb.menuBar.height+3)+"px,0px)"),bb.menuBar.visible=!0,bb.menuBar.menu.overlay.addEventListener("touchstart",bb.menuBar.overlayTouchHandler,!1))},hideMenuBar:function(){bb.menuBar.visible&&(bb.menuBar.visible=!1,bb.device.isPlayBook?blackberry.app.event.onSwipeDown(bb.menuBar.showMenuBar):bb.device.isBB10&&(blackberry.event.removeEventListener("swipedown",bb.menuBar.hideMenuBar),blackberry.event.addEventListener("swipedown",bb.menuBar.showMenuBar)),bb.device.isBB10?(bb.menuBar.menu.style["z-index"]="-100",bb.menuBar.screen.style["-webkit-transform"]="translate3d(0px,0px,0px)",bb.menuBar.menu.overlay.style.display="none"):bb.device.isPlayBook&&(bb.menuBar.menu.style["-webkit-transition"]="all 0.5s ease-in-out",bb.menuBar.menu.style["-webkit-transform"]="translate3d(0, -"+(bb.menuBar.height+3)+"px,0px)"),bb.menuBar.menu.overlay.removeEventListener("touchstart",bb.menuBar.overlayTouchHandler,!1))},overlayTouchHandler:function(e){e.preventDefault(),e.stopPropagation(),bb.menuBar.hideMenuBar()},onMenuBarClicked:function(){bb.menuBar.hideMenuBar()},clearMenu:function(){window.blackberry&&(bb.menuBar.menu&&(bb.device.isPlayBook||bb.device.isBB10)?(bb.device.isPlayBook&&blackberry.app.event?blackberry.app.event.onSwipeDown(""):bb.device.isBB10&&blackberry.app&&(blackberry.event.removeEventListener("swipedown",bb.menuBar.showMenuBar),blackberry.event.removeEventListener("swipedown",bb.menuBar.hideMenuBar)),bb.menuBar.menu.parentNode.removeChild(bb.menuBar.menu),bb.menuBar.menu=!1,bb.menuBar.visible=!1):blackberry.ui&&blackberry.ui.menu&&blackberry.ui.menu.clearMenuItems())}},_bb_progress={NORMAL:0,PAUSED:1,ERROR:2,apply:function(e){for(var t=0;e.length>t;t++)bb.progress.style(e[t],!0)},style:function(e,t){var i,n,o;return bb.device.isBB10?(i=bb.screen.controlColor,n=bb.options.highlightColor,o=bb.options.shades.darkHighlight):(i="light",n=bb.device.isPlayBook?bb.options.highlightColor:"#92B43B",o="#8FB03B"),outerElement=document.createElement("div"),outerElement.progress=e,outerElement.state=bb.progress.NORMAL,e.parentNode&&e.parentNode.insertBefore(outerElement,e),e.style.display="none",outerElement.appendChild(e),outerElement.maxValue=e.hasAttribute("max")?parseInt(e.getAttribute("max")):0,outerElement.value=e.hasAttribute("value")?parseInt(e.getAttribute("value")):0,outerElement.className="bb-progress",outerElement.outer=document.createElement("div"),outerElement.outer.setAttribute("class","outer bb-progress-outer-"+i+" bb-progress-outer-idle-background-"+i),outerElement.appendChild(outerElement.outer),outerElement.fill=document.createElement("div"),outerElement.fill.normal=bb.device.isBB10?"bb-progress-fill bb10Highlight":"bb-progress-fill bbProgressHighlight",outerElement.fill.setAttribute("class",outerElement.fill.normal),outerElement.outer.appendChild(outerElement.fill),outerElement.inner=document.createElement("div"),outerElement.inner.className="inner",outerElement.outer.appendChild(outerElement.inner),e.outerElement=outerElement,e.setValue=function(e){var t,r=0;
e&&0>e||e&&e>parseInt(this.outerElement.maxValue)||(e?(this.outerElement.value=e,this.value=e):0==e?(this.outerElement.value=0,this.value=0):e=parseInt(this.outerElement.value),e==this.outerElement.maxValue?(this.outerElement.fill.style.background="-webkit-gradient(linear, center top, center bottom, from("+o+"), to("+n+"))",r=1):0==e?this.outerElement.outer.setAttribute("class","outer bb-progress-outer-"+i+" bb-progress-outer-idle-background-"+i):(this.outerElement.state==bb.progress.PAUSED?this.outerElement.fill.style.background="-webkit-gradient(linear, center top, center bottom, from(#EDC842), to(#BA991E))":this.outerElement.state==bb.progress.ERROR?this.outerElement.fill.style.background="-webkit-gradient(linear, center top, center bottom, from( #E04242), to(#D91111))":(this.outerElement.outer.setAttribute("class","outer bb-progress-outer-"+i),this.outerElement.fill.setAttribute("class",this.outerElement.fill.normal),this.outerElement.fill.style.background=""),r=this.outerElement.value/parseInt(this.outerElement.maxValue)),t=Math.floor(parseInt(window.getComputedStyle(this.outerElement.outer).width)*r),this.outerElement.fill.style.width=t+"px")},e.setValue=e.setValue.bind(e),e.setState=function(e){this.outerElement.state=e,this.setValue()},e.setState=e.setState.bind(e),e.show=function(){this.outerElement.style.display="block",bb.refresh()},e.show=e.show.bind(e),e.hide=function(){this.outerElement.style.display="none",bb.refresh()},e.hide=e.hide.bind(e),e.remove=function(){this.outerElement.parentNode.removeChild(this.outerElement),bb.refresh()},e.remove=e.remove.bind(e),e.setMax=function(e){!e||0>e||e==this.max||(this.max=e,this.outerElement.maxValue=e)},e.setMax=e.setMax.bind(e),t?(e.onbbuidomready=function(){this.setValue(),document.removeEventListener("bbuidomready",this.onbbuidomready,!1)},e.onbbuidomready=e.onbbuidomready.bind(e),document.addEventListener("bbuidomready",e.onbbuidomready,!1)):window.setTimeout(e.setValue,0),outerElement.doOrientationChange=function(){window.setTimeout(this.progress.setValue,0)},outerElement.doOrientationChange=outerElement.doOrientationChange.bind(outerElement),window.addEventListener("resize",outerElement.doOrientationChange,!1),bb.windowListeners.push({name:"resize",eventHandler:outerElement.doOrientationChange}),outerElement}},bb.screen={scriptCounter:0,totalScripts:0,controlColor:"light",listColor:"light",overlay:null,tabOverlay:null,contextMenu:null,currentScreen:null,focusedInput:null,animating:!1,apply:function(e){var t,i;bb.screen.contextMenu=null,bb.device.isBB10&&bb.device.isPlayBook?t="bb-bb10-1024x600-screen":bb.device.isBB10&&(bb.device.is1280x768||bb.device.is1280x720)?t="bb-bb10-1280x768-1280x720-screen":bb.device.isBB10&&bb.device.is720x720?t="bb-bb10-720x720-screen":bb.device.isHiRes&&(t="bb-hires-screen");for(var n=0;e.length>n;n++){if(i=e[n],bb.screen.currentScreen=i,i.setAttribute("class",t),bb.device.isBB10){var o,r,b,a=i.querySelectorAll("[data-bb-type=menu]"),s=i.querySelectorAll("[data-bb-type=title]"),l=i.querySelectorAll("[data-bb-type=action-bar]"),c=i.querySelectorAll("[data-bb-type=context-menu]"),d=[],u=null,h=bb.screen.getMenuBarHeight(),p=bb.screen.getActionBarHeight(),m=bb.screen.getTitleBarHeight();for(a.length>0?(a=a[0],i.menuBar=a):a=null,s.length>0?(s=s[0],i.titleBar=s):s=null,l.length>0?(l=l[0],i.actionBar=l):l=null,o=document.createElement("div"),i.appendChild(o),i.hasAttribute("data-bb-scroll-effect")&&"off"==i.getAttribute("data-bb-scroll-effect").toLowerCase()||(i.bbUIscrollWrapper=o),r=document.createElement("div"),o.appendChild(r),b=0;i.childNodes.length-1>b;b++)u=i.childNodes[b],u!=l&&u!=a&&u!=s&&d.push(u);for(b=0;d.length>b;b++)r.appendChild(d[b]);if(i.menuBarHeight=h,i.actionBarHeight=p,i.titleBarHeight=m,i.outerScrollArea=o,o.addEventListener("scroll",function(){evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt),this.timeout?clearTimeout(this.timeout):this.style["padding-right"]="1px",this.timeout=setTimeout(this.resetPadding,20)},!1),o.resetPadding=function(){this.style["padding-right"]="0px",this.timeout=null},o.resetPadding=o.resetPadding.bind(o),i.getAttribute("data-bb-indicator")){var g=document.createElement("div"),v=document.createElement("div");o.scrollArea=r,o.overlay=g,g.style.position="absolute",g.style.bottom="0px",g.style.top="0px",g.style.left="0px",g.style.right="0px",g.touchstart=function(e){e.preventDefault(),e.stopPropagation()},g.touchend=function(e){e.preventDefault(),e.stopPropagation()},g.click=function(e){e.preventDefault(),e.stopPropagation()},o.appendChild(g),r.style.display="none",v.setAttribute("data-bb-type","activity-indicator"),v.setAttribute("data-bb-size","large"),v.style.margin=bb.device.is720x720?"30% auto 0px auto":"landscape"==bb.getOrientation().toLowerCase()?"20% auto 0px auto":"60% auto 0px auto",g.appendChild(v),o.bbuidomprocessed=function(){this.scrollArea.style.display="",this.removeChild(this.overlay),document.removeEventListener("bbuidomprocessed",this.bbuidomprocessed,!1),bb.device.isPlayBook&&bb.scroller&&bb.scroller.refresh()},o.bbuidomprocessed=o.bbuidomprocessed.bind(o),document.addEventListener("bbuidomprocessed",o.bbuidomprocessed,!1)}s&&l?(o.style.overflow="auto",o.style.position="absolute",o.style.bottom=p+"px",o.style.top=m+"px",o.style.left="0px",o.style.right="0px"):s?(o.style.overflow="auto",o.style.position="absolute",o.style.bottom="0px",o.style.top=m+"px",o.style.left="0px",o.style.right="0px"):l?(o.style.overflow="auto",o.style.position="absolute",o.style.bottom=p+"px",o.style.top="0px",o.style.left="0px",o.style.right="0px"):(o.setAttribute("style","overflow:auto;bottom:0px;position:absolute;top:0px;left:0px;right:0px;"),o.style.overflow="auto",o.style.position="absolute",o.style.bottom="0px",o.style.top="0px",o.style.left="0px",o.style.right="0px"),a&&bb.menuBar.apply(a,i),s&&bb.titleBar.apply(s),l&&bb.actionBar.apply(l,i),c.length>0?bb.screen.processContext(c[0],i):c=null}else if(bb.device.isPlayBook){var a=i.querySelectorAll("[data-bb-type=menu]");a.length>0&&(a=a[0],bb.menuBar.apply(a,i));var o,r,b,s=i.querySelectorAll("[data-bb-type=title]"),d=[],u=null,l=i.querySelectorAll("[data-bb-type=action-bar]"),c=i.querySelectorAll("[data-bb-type=context-menu]");for(b=0;l.length>b;b++)l[b].style.display="none";for(b=0;c.length>b;b++)c[b].style.display="none";for(s=s.length>0?s[0]:null,o=document.createElement("div"),i.appendChild(o),i.hasAttribute("data-bb-scroll-effect")&&"off"==i.getAttribute("data-bb-scroll-effect").toLowerCase()||(i.bbUIscrollWrapper=o),r=document.createElement("div"),o.appendChild(r),b=0;i.childNodes.length-1>b;b++)u=i.childNodes[b],u!=s&&d.push(u);for(b=0;d.length>b;b++)r.appendChild(d[b]);s?(o.style.overflow="auto",o.style.bottom="0px",o.style.position="absolute",o.style.top="55px",o.style.left="0px",o.style.right="0px",bb.titleBar.apply(s)):(o.setAttribute("style","overflow:auto;bottom:0px;position:absolute;top:0px;left:0px;right:0px;"),o.style.overflow="auto",o.style.bottom="0px",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.right="0px")}else{var a=i.querySelectorAll("[data-bb-type=menu]");a.length>0&&(a=a[0],bb.menuBar.apply(a,i));var s=i.querySelectorAll("[data-bb-type=title]"),l=i.querySelectorAll("[data-bb-type=action-bar]"),c=i.querySelectorAll("[data-bb-type=context-menu]");for(b=0;l.length>b;b++)l[b].style.display="none";for(b=0;c.length>b;b++)c[b].style.display="none";s.length>0&&(s=s[0],bb.titleBar.apply(s))}i.refresh=function(){bb.scroller&&bb.scroller.refresh()},i.refresh=i.refresh.bind(i),i.scrollTo=function(e,t){bb.scroller?bb.scroller.scrollTo(e,t):bb.device.isBB10&&(this.bbUIscrollWrapper.scrollTop=e)},i.scrollTo=i.scrollTo.bind(i),i.scrollToElement=function(e){if(bb.scroller)bb.scroller.scrollToElement(e);else if(bb.device.isBB10){if(!e)return;var t=0,i=e;if(i.offsetParent)do t+=i.offsetTop;while(i=i.offsetParent);bb.screen.currentScreen.titleBar&&(t-=bb.screen.currentScreen.titleBarHeight),bb.screen.currentScreen.actionBar&&(t-=bb.screen.getActionBarHeight()),this.scrollTo(t)}},i.scrollToElement=i.scrollToElement.bind(i)}},processContext:function(e,t){bb.device.isPlayBook||bb.device.isRipple||blackberry.ui&&blackberry.ui.contextmenu&&(blackberry.ui.contextmenu.enabled=!0),t.appendChild(e),e.menu=bb.contextMenu.create(t),e.appendChild(e.menu),bb.screen.contextMenu=e.menu;var i,n=e.querySelectorAll("[data-bb-type=action]");for(i=0;n.length>i;i++)e.menu.add(n[i]);e.menu.centerMenuItems()},fadeIn:function(e){var t=.3,i="ease-out",n=e.style;n["-webkit-animation-name"]="bbUI-fade-in",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},fadeOut:function(e){var t=.3,i="ease-out",n=e.style;n["-webkit-animation-name"]="bbUI-fade-out",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideLeft:function(e){var t=.3,i="ease-out",n=e.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-left",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutLeft:function(e){var t=.3,i="ease-out",n=e.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-out-left",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideRight:function(e){var t=.3,i="ease-out",n=e.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-right",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutRight:function(e){var t=.3,i="ease-out",n=e.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-out-right",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideUp:function(e){var t=.3,i="ease-out",n=e.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-up",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutUp:function(e){var t=.3,i="ease-out",n=e.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-out-up",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideDown:function(e){var t=.3,i="ease-out",n=e.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-down",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutDown:function(e){var t=.3,i="ease-out",n=e.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-out-down",n["-webkit-animation-duration"]=t+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},reAdjustHeight:function(){bb.device.isBB5?document.body.style.height=screen.height-27+"px":bb.device.isBB6?document.body.style.height=screen.height-17+"px":bb.device.isBB7&&0>navigator.appVersion.indexOf("Ripple")&&(document.body.style.height=screen.height+"px")},getMenuBarHeight:function(){return bb.device.is1024x600?"portrait"==bb.getOrientation().toLowerCase()?73:73:bb.device.is1280x768||bb.device.is1280x720?"portrait"==bb.getOrientation().toLowerCase()?140:111:"portrait"==bb.getOrientation().toLowerCase()?140:111},getActionBarHeight:function(){return bb.device.is1024x600?"portrait"==bb.getOrientation().toLowerCase()?73:73:bb.device.is1280x768||bb.device.is1280x720?"portrait"==bb.getOrientation().toLowerCase()?139:99:bb.device.is720x720?109:"portrait"==bb.getOrientation().toLowerCase()?139:99},getTitleBarHeight:function(){return bb.device.is1024x600?65:bb.device.is1280x768||bb.device.is1280x720?111:bb.device.is720x720?95:111}},bb.titleBar={apply:function(titleBar){if(bb.device.isBB10){var res="1280x768-1280x720",orientation=bb.getOrientation(),button,caption,titleBarClass,details,topTitleArea=document.createElement("div"),img,accentText;bb.device.is1024x600?res="1024x600":bb.device.is1280x768||bb.device.is1280x720?res="1280x768-1280x720":bb.device.is720x720&&(res="720x720"),titleBar.topTitleArea=topTitleArea,titleBar.appendChild(topTitleArea),titleBarClass=bb.options.coloredTitleBar?"bb-bb10-title-bar-"+res+" bb-bb10-title-bar-"+orientation+"-"+res+" bb10-title-colored":"bb-bb10-title-bar-"+res+" bb-bb10-title-bar-"+orientation+"-"+res+" bb-bb10-title-bar-"+bb.screen.controlColor,topTitleArea.setAttribute("class",titleBarClass),caption=document.createElement("div"),titleBar.caption=caption,caption.setAttribute("class","bb-bb10-title-bar-caption-"+res+" bb-bb10-title-bar-caption-"+orientation+"-"+res),caption.innerHTML=titleBar.getAttribute("data-bb-caption"),topTitleArea.appendChild(caption),titleBar.hasAttribute("data-bb-back-caption")&&(button=document.createElement("div"),button.innerHTML=titleBar.getAttribute("data-bb-back-caption"),topTitleArea.appendChild(button),titleBar.backButton=button,button.onclick=bb.popScreen,bb.titleBar.styleBB10Button(button),button.style.left="0px"),titleBar.hasAttribute("data-bb-action-caption")&&(button=document.createElement("div"),button.innerHTML=titleBar.getAttribute("data-bb-action-caption"),titleBar.hasAttribute("onactionclick")?(button.titleBar=titleBar,button.onactionclick=titleBar.getAttribute("onactionclick"),titleBar.onactionclick=function(){eval(this.actionButton.onactionclick)},button.onclick=function(){this.titleBar.onactionclick&&this.titleBar.onactionclick()}):titleBar.onactionclick&&(button.onclick=titleBar.onactionclick),bb.titleBar.styleBB10Button(button),button.style.right="0px",topTitleArea.appendChild(button),titleBar.actionButton=button),(titleBar.actionButton||titleBar.backButton)&&(titleBar.evenButtonWidths=function(){var e,t=this.backButton?parseInt(window.getComputedStyle(this.backButton).width):0,i=this.actionButton?parseInt(window.getComputedStyle(this.actionButton).width):0;this.actionButton&&this.backButton?(e=t>i?t:i,this.backButton.style.width=e+"px",this.actionButton.style.width=e+"px",this.caption.style["margin-left"]=e+24+"px",this.caption.style["margin-right"]=e+24+"px"):this.actionButton?(this.caption.style["margin-left"]="0px",this.caption.style["margin-right"]=i+24+"px"):this.backButton&&(this.caption.style["margin-right"]="0px",this.caption.style["margin-left"]=t+24+"px")},titleBar.evenButtonWidths=titleBar.evenButtonWidths.bind(titleBar),window.setTimeout(titleBar.evenButtonWidths,0)),titleBar.actionButton||titleBar.backButton||!titleBar.hasAttribute("data-bb-img")&&!titleBar.hasAttribute("data-bb-accent-text")||(caption.setAttribute("class","bb-bb10-title-bar-caption-left-"+res),details=document.createElement("div"),titleBar.details=details,topTitleArea.appendChild(details),details.appendChild(caption),titleBar.hasAttribute("data-bb-img")&&(img=document.createElement("img"),titleBar.img=img,topTitleArea.insertBefore(img,details),details.setAttribute("class","bb-bb10-title-bar-caption-details-img-"+res),img.style.opacity="0",img.style["-webkit-transition"]="opacity 0.5s linear",img.style["-webkit-backface-visibility"]="hidden",img.style["-webkit-perspective"]=1e3,img.style["-webkit-transform"]="translate3d(0,0,0)",titleBar.onbbuidomready=function(){this.img.onload=function(){this.style.opacity="1.0"},this.img.src=this.getAttribute("data-bb-img"),document.removeEventListener("bbuidomready",this.onbbuidomready,!1)},titleBar.onbbuidomready=titleBar.onbbuidomready.bind(titleBar),document.addEventListener("bbuidomready",titleBar.onbbuidomready,!1)),titleBar.hasAttribute("data-bb-accent-text")&&(caption.style["line-height"]=bb.device.is1024x600?"40px":bb.device.is1280x768||bb.device.is1280x720?"70px":bb.device.is720x720?"55px":"70px",accentText=document.createElement("div"),accentText.setAttribute("class","bb-bb10-title-bar-accent-text-"+res),bb.options.coloredTitleBar&&(accentText.style.color="silver"),titleBar.accentText=accentText,accentText.innerHTML=titleBar.getAttribute("data-bb-accent-text"),details.appendChild(accentText))),titleBar.setCaption=function(e){this.caption.innerHTML=e},titleBar.setCaption=titleBar.setCaption.bind(titleBar),titleBar.getCaption=function(){return this.caption.innerHTML},titleBar.getCaption=titleBar.getCaption.bind(titleBar),titleBar.setBackCaption=function(e){this.backButton.firstChild.innerHTML=e,this.actionButton&&(this.backButton.style.width="",this.evenButtonWidths())},titleBar.setBackCaption=titleBar.setBackCaption.bind(titleBar),titleBar.getBackCaption=function(){return this.backButton.firstChild.innerHTML},titleBar.getBackCaption=titleBar.getBackCaption.bind(titleBar),titleBar.setActionCaption=function(e){this.actionButton.firstChild.innerHTML=e,this.backButton&&(this.actionButton.style.width="",this.evenButtonWidths())},titleBar.setActionCaption=titleBar.setActionCaption.bind(titleBar),titleBar.getActionCaption=function(){return this.actionButton.firstChild.innerHTML},titleBar.getActionCaption=titleBar.getActionCaption.bind(titleBar),titleBar.getAccentText=function(){return this.accentText.innerHTML},titleBar.getAccentText=titleBar.getAccentText.bind(titleBar)}else if(bb.device.isPlayBook){if(titleBar.setAttribute("class","pb-title-bar"),titleBar.innerHTML=titleBar.getAttribute("data-bb-caption"),titleBar.hasAttribute("data-bb-back-caption")){var button=document.createElement("div"),buttonInner=document.createElement("div");button.setAttribute("class","pb-title-bar-back"),button.onclick=bb.popScreen,buttonInner.setAttribute("class","pb-title-bar-back-inner"),buttonInner.innerHTML=titleBar.getAttribute("data-bb-back-caption"),button.appendChild(buttonInner),titleBar.appendChild(button)}}else titleBar.setCaption=function(e){return e?(this.setAttribute("data-bb-caption",e),this.innerHTML=e,void 0):(e=this.getAttribute("data-bb-caption"),this.innerHTML=e,void 0)},titleBar.setCaption=titleBar.setCaption.bind(titleBar),titleBar.getCaption=function(){return this.innerHTML},titleBar.getCaption=titleBar.getCaption.bind(titleBar),titleBar.hasAttribute("data-bb-caption")&&(bb.device.isHiRes?titleBar.setAttribute("class","bb-hires-screen-title"):titleBar.setAttribute("class","bb-lowres-screen-title"),titleBar.innerHTML=titleBar.getAttribute("data-bb-caption"))},styleBB10Button:function(e){var t,i,n,o="1280x768-1280x720",r=document.createElement("div");bb.device.is1024x600?o="1024x600":bb.device.is1280x768||bb.device.is1280x720?o="1280x768-1280x720":bb.device.is720x720&&(o="720x720"),bb.options.coloredTitleBar?(t="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+o+" bb10-title-button-colored",i="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+o+" bb10-title-button-colored-highlight",n="bb-bb10-titlebar-button-container-"+o+" bb10-title-button-container-colored"):(t="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+o+" bb-bb10-titlebar-button-"+bb.screen.controlColor,i="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+o+" bb-bb10-titlebar-button-highlight-"+bb.screen.controlColor,n="bb-bb10-titlebar-button-container-"+o+" bb-bb10-titlebar-button-container-"+bb.screen.controlColor),e.enabled=!0,r.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(r),r.setAttribute("class",t),e.setAttribute("class",n),e.outerNormal=n,e.innerElement=r,r.normal=t,r.highlight=i,e.ontouchstart=function(){this.innerElement.setAttribute("class",this.innerElement.highlight)},e.ontouchend=function(){this.innerElement.setAttribute("class",this.innerElement.normal)},e.trappedClick=e.onclick,e.onclick=void 0,null!==e.trappedClick&&e.addEventListener("click",function(){this.enabled&&this.trappedClick()},!1)}},_bb5_button={apply:function(e){for(var t=0;e.length>t;t++){var i=e[t],n=i.innerHTML,o="bb5-button",r="bb5-button-highlight";i.innerHTML="",i.setAttribute("class","bb-bb5-button");var b=document.createElement("a");b.setAttribute("class",o),b.setAttribute("x-blackberry-focusable","true"),b.setAttribute("onmouseover","this.setAttribute('class','"+r+"')"),b.setAttribute("onmouseout","this.setAttribute('class','"+o+"')"),i.appendChild(b);var a=document.createElement("span");a.innerHTML=n,b.appendChild(a)}}},_bb5_labelControlContainers={apply:function(e){for(var t=0;e.length>t;t++){var i=e[t];i.setAttribute("class","bb-label-control-horizontal-row");for(var n=i.querySelectorAll("[data-bb-type=label]"),o=0;n.length>o;o++){var r=n[o];r.setAttribute("class","bb-label")}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb5_pillButtons={apply:function(e){for(var t=0;e.length>t;t++){var i=e[t];i.setAttribute("class","bb-pill-buttons");for(var n=i.querySelectorAll("[data-bb-type=pill-button]"),o=0;n.length>o;o++){var r=n[o];r.setAttribute("x-blackberry-focusable","true");var b=r.innerHTML;r.innerHTML="<span>"+b+"</span>",0===o?r.setAttribute("class","buttonLeft"):o==n.length-1?r.setAttribute("class","buttonRight"):r.setAttribute("class","buttonMiddle"),r.hasAttribute("data-bb-selected")&&"true"==r.getAttribute("data-bb-selected").toLowerCase()&&bb.pillButtons.selectButton(r),r.onmousedown=function(){bb.pillButtons.selectButton(this);for(var e=this.parentNode.querySelectorAll("[data-bb-type=pill-button]"),t=0;e.length>t;t++){var i=e[t];i!=this&&bb.pillButtons.deSelectButton(i)}}}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb_5_6_7_imageList={apply:function(e){for(var t,i,n,o,t=0;e.length>t;t++){n=e[t],n.items=[],n.hideImages=n.hasAttribute("data-bb-images")?"none"==n.getAttribute("data-bb-images").toLowerCase():!1,n.hideImages||(n.imagePlaceholder=n.hasAttribute("data-bb-image-placeholder")?n.getAttribute("data-bb-image-placeholder"):void 0),n.headerJustify=n.hasAttribute("data-bb-header-justify")?n.getAttribute("data-bb-header-justify").toLowerCase():"center",n.listStyle=n.hasAttribute("data-bb-style")?n.getAttribute("data-bb-style").toLowerCase():"default",bb.device.isHiRes?n.setAttribute("class","bb-hires-image-list"):n.setAttribute("class","bb-lowres-image-list"),n.styleItem=function(e){var e,t,i,n,o,r,b,a,s,l,c,d,u,h,p=bb.device.isHiRes?"hires":"lowres";e.hasAttribute("data-bb-type")&&(t=e.getAttribute("data-bb-type").toLowerCase(),i=e.innerHTML,n="",e.hasAttribute("data-bb-accent-text")&&(n=e.getAttribute("data-bb-accent-text")),"header"==t?(o="bb-"+p+"-image-list-header",r="bb-"+p+"-image-list-header-hover","left"==this.headerJustify?(o=o+" bb-"+p+"-image-list-header-left",r=r+" bb-"+p+"-image-list-header-left"):"right"==this.headerJustify?(o=o+" bb-"+p+"-image-list-header-right",r=r+" bb-"+p+"-image-list-header-right"):(o=o+" bb-"+p+"-image-list-header-center",r=r+" bb-"+p+"-image-list-header-center"),e.normal=o,e.highlight=r,e.innerHTML="<p>"+i+"</p>",e.setAttribute("x-blackberry-focusable","true"),e.setAttribute("class",o),e.setAttribute("onmouseover","this.setAttribute('class',this.highlight)"),e.setAttribute("onmouseout","this.setAttribute('class',this.normal)")):"item"==t&&(e.innerHTML="",e.setAttribute("class","bb-"+p+"-image-list-item"),e.setAttribute("onmouseover","this.setAttribute('class','bb-"+p+"-image-list-item bb-"+p+"-image-list-item-hover')"),e.setAttribute("onmouseout","this.setAttribute('class','bb-"+p+"-image-list-item')"),e.setAttribute("x-blackberry-focusable","true"),this.hideImages||(c=document.createElement("img"),e.img=c,this.imagePlaceholder?(c.placeholder=this.imagePlaceholder,c.src=e.hasAttribute("data-bb-img")?e.getAttribute("data-bb-img"):this.imagePlaceholder,c.onerror=function(){this.src!=this.placeholder&&(this.src=this.placeholder)}):c.setAttribute("src",e.getAttribute("data-bb-img")),e.appendChild(c)),b=document.createElement("div"),e.appendChild(b),b.normal=this.hideImages?"bb-"+p+"-image-list-details bb-"+p+"-image-list-noimage":"bb-"+p+"-image-list-details",a=document.createElement("div"),a.innerHTML=e.getAttribute("data-bb-title"),a.className="title",e.titleDiv=a,b.appendChild(a),"arrowlist"==this.listStyle?(b.normal=b.normal+" details-button-margin",d=document.createElement("div"),e.appendChild(d),e.btn=d,d.setAttribute("class","button"),u=document.createElement("div"),u.normal="bb-"+p+"-image-list-item-button-border",u.setAttribute("class",u.normal),d.appendChild(u),h=document.createElement("div"),h.setAttribute("class","bb-"+p+"-image-list-item-button-inner bb-image-list-item-chevron-light"),u.appendChild(h)):(l=document.createElement("div"),l.innerHTML=n,l.className="accent-text",e.accentDiv=l,b.appendChild(l)),b.setAttribute("class",b.normal),s=document.createElement("div"),s.className="description",e.descriptionDiv=s,b.appendChild(s),0==i.length&&(i="&nbsp;",s.style.visibilty="hidden",a.style["margin-top"]=bb.device.isHiRes?"14px":"18px",l&&(l.style["margin-top"]=bb.device.isHiRes?"-32px":"-25px"),"arrowlist"==this.listStyle&&(d.style["margin-top"]=bb.device.isHiRes?"-73px":"-70px")),s.innerHTML=i,e.remove=function(){var e=this.parentNode,t=e.items.indexOf(this);this.parentNode.removeChild(this),e.items.splice(t,1),bb.scroller&&bb.scroller.refresh()},e.remove=e.remove.bind(e),e.trappedClick=e.onclick,e.onclick=void 0,e.outerElement=this,e.addEventListener("click",function(){this.outerElement.selected=this,this.trappedClick&&this.trappedClick()},!1),e.getTitle=function(){return this.titleDiv.innerHTML},e.getTitle=e.getTitle.bind(e),e.getDescription=function(){return this.descriptionDiv.innerHTML},e.getDescription=e.getDescription.bind(e),e.getAccentText=function(){return this.accentDiv?this.accentDiv.innerHTML:void 0},e.getAccentText=e.getAccentText.bind(e),e.getImage=function(){return this.img?this.img.getAttribute("src"):void 0},e.getImage=e.getImage.bind(e)))},n.styleItem=n.styleItem.bind(n),n.appendItem=function(e){this.styleItem(e),this.appendChild(e),this.items.push(e),bb.scroller&&bb.scroller.refresh()},n.appendItem=n.appendItem.bind(n),n.refresh=function(e){if(e&&e.length&&!(0>=e.length)){var t,i,n=document.createElement("div");for(this.items=[],t=0;e.length>t;t++)i=e[t],this.styleItem(i),this.items.push(i),n.appendChild(i);this.innerHTML="",this.appendChild(n)}},n.refresh=n.refresh.bind(n),n.insertItemBefore=function(e,t){this.styleItem(e),this.insertBefore(e,t),this.items.splice(this.items.indexOf(t),0,e),bb.scroller&&bb.scroller.refresh()},n.insertItemBefore=n.insertItemBefore.bind(n),n.getItems=function(){var e,t=[];for(e=0;this.items.length>e;e++)t.push(this.items[e]);return t},n.getItems=n.getItems.bind(n),n.clear=function(){this.items=[],n.innerHTML="",bb.scroller&&bb.scroller.refresh()},n.clear=n.clear.bind(n),n.show=function(){this.style.display="block",bb.scroller&&bb.scroller.refresh()},n.show=n.show.bind(n),n.hide=function(){this.style.display="none",bb.scroller&&bb.scroller.refresh()},n.hide=n.hide.bind(n),n.remove=function(){this.parentNode.removeChild(this),bb.scroller&&bb.scroller.refresh()},n.remove=n.remove.bind(n),o=n.querySelectorAll("[data-bb-type=item], [data-bb-type=header]");var r;for(i=0;o.length>i;i++)r=o[i],n.styleItem(r),n.items.push(r)}}},_bb_5_6_7_roundPanel={apply:function(e){for(var t=0;e.length>t;t++){var i=e[t];if(i.setAttribute("class","bb-round-panel"),i.hasChildNodes()){for(var n=[],o=i.childNodes.length,r=0;o>r;r++)n.push(i.childNodes[r]);for(var r=o-1;r>=0;r--)i.removeChild(i.childNodes[r]);var b=document.createElement("div");b.setAttribute("class","bb-round-panel-top-left bb-round-panel-background "),i.appendChild(b),b=document.createElement("div"),b.setAttribute("class","bb-round-panel-top-right bb-round-panel-background "),i.appendChild(b);var a=document.createElement("div");a.setAttribute("class","bb-round-panel-inside"),i.appendChild(a),b=document.createElement("div"),b.setAttribute("class","bb-round-panel-bottom-left bb-round-panel-background "),i.appendChild(b),b=document.createElement("div"),b.setAttribute("class","bb-round-panel-bottom-right bb-round-panel-background "),i.appendChild(b);for(var r=0;n.length>r;r++)a.appendChild(n[r])}for(var s=i.querySelectorAll("[data-bb-type=panel-header]"),r=0;s.length>r;r++)s[r].setAttribute("class","bb-lowres-panel-header");i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb_6_7_button={apply:function(e){for(var t=0;e.length>t;t++)bb.button.style(e[t])},style:function(e){var t=e.hasAttribute("data-bb-disabled"),i="bb-bb7-button",n="bb-bb7-button-highlight";if(e.stretched=!1,e.enabled=!t,t&&(i="bb-bb7-button-disabled",e.removeAttribute("data-bb-disabled")),bb.device.isHiRes?(i+=" bb-bb7-button-hires",n+=" bb-bb7-button-hires"):(i+=" bb-bb7-button-lowres",n+=" bb-bb7-button-lowres"),e.hasAttribute("data-bb-style")){var o=e.getAttribute("data-bb-style");"stretch"==o&&(e.stretched=!0,i+=" button-stretch",n+=" button-stretch")}return e.highlight=n,e.normal=i,e.setAttribute("class",i),t||(e.setAttribute("x-blackberry-focusable","true"),e.onmouseover=function(){this.setAttribute("class",this.highlight)},e.onmouseout=function(){this.setAttribute("class",this.normal)}),e.trappedClick=e.onclick,e.onclick=void 0,null!==e.trappedClick&&e.addEventListener("click",function(){this.enabled&&this.trappedClick()},!1),e.setCaption=function(e){this.innerHTML=e},e.setCaption=e.setCaption.bind(e),e.getCaption=function(){return this.innerHTML},e.getCaption=e.getCaption.bind(e),e.setImage=function(){},e.setImage=e.setImage.bind(e),e.getImage=function(){return""},e.getImage=e.getImage.bind(e),e.enable=function(){this.enabled||(this.setAttribute("class",i),this.setAttribute("x-blackberry-focusable","true"),this.onmouseover=function(){this.setAttribute("class",this.highlight)},this.onmouseout=function(){this.setAttribute("class",this.normal)},this.enabled=!0)},e.enable=e.enable.bind(e),e.disable=function(){if(this.enabled){var e="bb-bb7-button-disabled";if(e+=bb.device.isHiRes?" bb-bb7-button-hires":" bb-bb7-button-lowres",this.hasAttribute("data-bb-style")){var t=this.getAttribute("data-bb-style");"stretch"==t&&(e+=" button-stretch",n+=" button-stretch")}this.setAttribute("class",e),this.removeAttribute("x-blackberry-focusable"),this.onmouseover=null,this.onmouseout=null,this.enabled=!1}},e.disable=e.disable.bind(e),e.show=function(){this.style.display=this.stretched?"block":"inline-block"},e.show=e.show.bind(e),e.hide=function(){this.style.display="none"},e.hide=e.hide.bind(e),e.remove=function(){this.parentNode.removeChild(this),bb.refresh()},e.remove=e.remove.bind(e),e}},_bb_6_7_PlayBook_dropdown={apply:function(e){for(var t=0;e.length>t;t++)bb.dropdown.style(e[t])},style:function(e){var t,i,n=e.getElementsByTagName("option"),o="",r=!e.hasAttribute("disabled");bb.device.isPlayBook?(t="ontouchstart",i="ontouchend"):(t="onmouseover",i="onmouseout"),e.style.display="none",e.stretch=!1,e.enabled=r,n.length>0&&(o=n[0].innerHTML);for(var b=0;n.length>b;b++)if(n[b].hasAttribute("selected")){o=n[b].innerHTML;break}var a=document.createElement("div");a.innerHTML='<div data-bb-type="caption"><span>'+o+"</span></div>",e.dropdown=a;var s="bb-bb7-dropdown",l="bb-bb7-dropdown-highlight";
if(bb.device.isHiRes?(s+=" bb-bb7-dropdown-hires",l+=" bb-bb7-dropdown-hires"):(s+=" bb-bb7-dropdown-lowres",l+=" bb-bb7-dropdown-lowres"),e.hasAttribute("data-bb-style")){var c=e.getAttribute("data-bb-style");"stretch"==c&&(e.stretch=!0,s+=" dropdown-stretch",l+=" dropdown-stretch")}return a.setAttribute("data-bb-type","dropdown"),e.enabled?a.setAttribute("class",s):a.setAttribute("class",s+" bb-bb7-dropdown-disabled"),a.setAttribute("x-blackberry-focusable","true"),a.inEvent="this.setAttribute('class','"+l+"')",a.outEvent="this.setAttribute('class','"+s+"')",e.parentNode&&e.parentNode.insertBefore(a,e),a.appendChild(e),a.doclick=function(){var e=this.getElementsByTagName("select")[0];if(bb.device.isPlayBook||bb.device.isRipple){var t=document.createElement("div");t.setAttribute("id","ripple-dropdown-overlay"),t.style.position="absolute",t.style.left="0px",t.style.top=document.body.scrollTop+"px",t.style.width="100%",t.style.height="100%",t.style["z-index"]="1000000",t.onclick=function(){null!==this.parentNode&&this.parentNode.removeChild(this)};var i=document.createElement("div");bb.device.isHiRes?i.setAttribute("class","ripple-dropdown-dialog bb-hires-screen"):i.setAttribute("class","ripple-dropdown-dialog"),t.appendChild(i),i.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};for(var n=0;e.options.length>n;n++){var o=e.options[n],r=document.createElement("div");i.appendChild(r);var b=document.createElement("div");o.selected?(b.setAttribute("class","item selected"),r.setAttribute("class","backgroundHighlight backgroundSelected")):(b.setAttribute("class","item"),r.setAttribute("class","backgroundHighlight")),b.innerHTML="<span>"+o.text+"</span>",b.setAttribute("x-blackberry-focusable","true"),b.setAttribute("data-bb-index",n),b.dropdown=this,b.onclick=function(){var e=this.getAttribute("data-bb-index"),t=this.dropdown.getElementsByTagName("select")[0];t&&t.setSelectedItem(e)},r.appendChild(b)}var a=45*e.options.length+20,s=window.innerHeight-80;a>s&&(a=s,i.style.height=s+"px");var l=window.innerHeight/2-a/2;i.style.top=l+"px",document.body.appendChild(t)}else{for(var c=[],n=0;e.options.length>n;n++)c[n]={label:e.options[n].text,selected:n==e.selectedIndex,enabled:!0,type:"option"};try{blackberry.ui.dialog.selectAsync(!1,c,function(t){t.length>0&&t[0]<e.options.length&&e.setSelectedItem(t[0])})}catch(d){console.log("Exception in selectAsync: "+d)}}},e.enabled&&(a.onclick=a.doclick,a.setAttribute(t,a.inEvent),a.setAttribute(i,a.outEvent)),e.setSelectedItem=function(e){var t=this.dropdown.getElementsByTagName("select")[0];if(t&&t.selectedIndex!=e){t.selectedIndex=e;var i=this.dropdown.querySelectorAll("[data-bb-type=caption]")[0];i&&(i.innerHTML="<span>"+t.options[e].text+"</span>");var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),t.dispatchEvent(n)}},e.setSelectedText=function(e){for(var t=0;this.options.length>t;t++)if(this.options[t].text==e)return this.setSelectedItem(t),void 0},e.setSelectedText=e.setSelectedText.bind(e),e.fireEvent=function(){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),this.dispatchEvent(e)},e.fireEvent=e.fireEvent.bind(e),e.enable=function(){this.enabled||(this.dropdown.onclick=this.dropdown.doclick,this.dropdown.setAttribute(t,a.inEvent),this.dropdown.setAttribute(i,a.outEvent),this.dropdown.setAttribute("class",s),this.removeAttribute("disabled"),this.enabled=!0)},e.enable=e.enable.bind(e),e.disable=function(){e.enabled&&(this.dropdown.onclick=null,this.dropdown.removeAttribute(t),this.dropdown.removeAttribute(i),this.dropdown.setAttribute("class",s+" bb-bb7-dropdown-disabled"),this.enabled=!1,this.setAttribute("disabled","disabled"))},e.disable=e.disable.bind(e),e.show=function(){this.dropdown.style.display=this.stretch?"block":"table-cell",bb.refresh()},e.show=e.show.bind(e),e.hide=function(){this.dropdown.style.display="none",bb.refresh()},e.hide=e.hide.bind(e),e.remove=function(){this.dropdown.parentNode.removeChild(this.dropdown),bb.refresh()},e.remove=e.remove.bind(e),e.refresh=function(){var e,t=this.getElementsByTagName("option"),i="";t.length>0&&(i=t[0].innerHTML);for(var n=0;t.length>n;n++)if(t[n].hasAttribute("selected")){i=t[n].innerHTML;break}e=this.dropdown.querySelectorAll("[data-bb-type=caption]")[0],e&&(e.innerHTML="<span>"+i+"</span>")},e.refresh=e.refresh.bind(e),e.setCaption=function(){console&&console.log("WARNING: setCaption is not supported on BlackBerry 5/6/7/PlayBook")},e.setCaption=e.setCaption.bind(e),a}},_bb_6_7_PlayBook_labelControlContainers={apply:function(e){for(var t=0;e.length>t;t++){var i=e[t],n=i.querySelectorAll("[data-bb-type=row]");if(n.length>0){var o=document.createElement("table");o.setAttribute("class","bb-bb7-label-control-rows"),i.insertBefore(o,n[0]);for(var r=0;n.length>r;r++){var b=n[r],a=document.createElement("tr");o.appendChild(a);var s=document.createElement("td");a.appendChild(s);var l=b.querySelectorAll("[data-bb-type=label]")[0];b.removeChild(l),s.appendChild(l);var c=document.createElement("td");a.appendChild(c);var d=b.querySelectorAll("[data-bb-type=button],input,[data-bb-type=dropdown],textarea")[0];b.removeChild(d),c.appendChild(d),i.removeChild(b);var u=d.getAttribute("data-bb-type");"button"==u||"dropdown"==u?d.style.float="right":"INPUT"==d.tagName&&(d.style.width="100%")}}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb_6_7_PlayBook_pillButtons={apply:function(e){for(var t=0;e.length>t;t++){var i=e[t],n="bb-bb7-pill-buttons",o="";bb.device.isHiRes?(n+=" bb-bb7-pill-buttons-hires",o="bb-bb7-pill-button-hires"):(n+=" bb-bb7-pill-buttons-lowres",o="bb-bb7-pill-button-lowres"),i.setAttribute("class",n);var r,b,a=i.querySelectorAll("[data-bb-type=pill-button]"),s=Math.floor(98/a.length),l=102-s*a.length;bb.device.isPlayBook?(r="ontouchstart",b="ontouchend"):(r="onmouseover",b="onmouseout"),i.style["padding-left"]=l+"%",i.style["padding-right"]=l+"%";for(var c=0;a.length>c;c++){var d=a[c];d.setAttribute("x-blackberry-focusable","true"),0===c?"true"==d.getAttribute("data-bb-selected")?d.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+o):(d.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-left "+o),d.setAttribute(r,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+o+"')"),d.setAttribute(b,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-left "+o+"')")):c==a.length-1?"true"==d.getAttribute("data-bb-selected")?d.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+o):(d.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-right "+o),d.setAttribute(r,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+o+"')"),d.setAttribute(b,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-right "+o+"')")):"true"==d.getAttribute("data-bb-selected")?d.setAttribute("class","bb-bb7-pill-button-highlight "+o):(d.setAttribute("class","bb-bb7-pill-button "+o),d.setAttribute(r,"this.setAttribute('class','bb-bb7-pill-button-highlight "+o+"')"),d.setAttribute(b,"this.setAttribute('class','bb-bb7-pill-button "+o+"')")),d.style.width=s+"%",d.addEventListener("click",function(){var e,t,i=this.parentNode.querySelectorAll("[data-bb-type=pill-button]");bb.device.isPlayBook?(e="ontouchstart",t="ontouchend"):(e="onmouseover",t="onmouseout");for(var n=0;i.length>n;n++){var r=i[n];0===n?r==this?(r.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+o),r.onmouseover=null,r.onmouseout=null):(r.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-left "+o),r.setAttribute(e,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+o+"')"),r.setAttribute(t,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-left "+o+"')")):n==i.length-1?r==this?(r.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+o),r.onmouseover=null,r.onmouseout=null):(r.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-right "+o),r.setAttribute(e,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+o+"')"),r.setAttribute(t,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-right "+o+"')")):r==this?(r.setAttribute("class","bb-bb7-pill-button-highlight "+o),r.onmouseover=null,r.onmouseout=null):(r.setAttribute("class","bb-bb7-pill-button "+o),r.setAttribute(e,"this.setAttribute('class','bb-bb7-pill-button-highlight "+o+"')"),r.setAttribute(t,"this.setAttribute('class','bb-bb7-pill-button "+o+"')"))}},!1)}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i),i.getButtons=function(){for(var e=this.querySelectorAll("[data-bb-type=pill-button]"),t=Array(),i=0;e.length>i;i++)t[i]=e[i].innerHTML;return t},i.getButtons=i.getButtons.bind(i)}}},_bb_6_7_textInput={apply:function(e){for(var t=0;e.length>t;t++){var i=e[t],n=i.getAttribute("class");n+=" bb-bb7-input",n+=bb.device.isHiRes?" bb-bb7-input-hires":" bb-bb7-input-lowres",i.setAttribute("class",n)}}};